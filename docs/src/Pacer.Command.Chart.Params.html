<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE OverloadedLists #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE QuasiQuotes #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE TemplateHaskell #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE UndecidableInstances #-}</span><span>
</span><span id="line-5"></span><span>
</span><span id="line-6"></span><span class="annot"><span class="hs-comment">-- | Chart parameters.</span></span><span>
</span><span id="line-7"></span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="Pacer.Command.Chart.Params.html"><span class="hs-identifier">Pacer.Command.Chart.Params</span></a></span><span>
</span><span id="line-8"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-comment">-- * Types</span></span><span>
</span><span id="line-9"></span><span>    </span><span class="annot"><a href="Pacer.Command.Chart.Params.html#ChartParams"><span class="hs-identifier">ChartParams</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-10"></span><span>    </span><span class="annot"><a href="Pacer.Command.Chart.Params.html#ChartParamsArgs"><span class="hs-identifier">ChartParamsArgs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-11"></span><span>    </span><span class="annot"><a href="Pacer.Command.Chart.Params.html#ChartParamsFinal"><span class="hs-identifier">ChartParamsFinal</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-12"></span><span>    </span><span class="annot"><a href="Pacer.Command.Chart.Params.html#ActivitiesType"><span class="hs-identifier">ActivitiesType</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-13"></span><span>
</span><span id="line-14"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Functions</span></span><span>
</span><span id="line-15"></span><span>    </span><span class="annot"><a href="Pacer.Command.Chart.Params.html#evolvePhase"><span class="hs-identifier">evolvePhase</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-16"></span><span>
</span><span id="line-17"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Type families</span></span><span>
</span><span id="line-18"></span><span>    </span><span class="annot"><a href="Pacer.Command.Chart.Params.html#ActivityPathsF"><span class="hs-identifier">ActivityPathsF</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-19"></span><span>    </span><span class="annot"><a href="Pacer.Command.Chart.Params.html#BuildDirF"><span class="hs-identifier">BuildDirF</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-20"></span><span>    </span><span class="annot"><a href="Pacer.Command.Chart.Params.html#MPathF"><span class="hs-identifier">MPathF</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-21"></span><span>    </span><span class="annot"><a href="Pacer.Command.Chart.Params.html#PathF"><span class="hs-identifier">PathF</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-22"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-23"></span><span class="hs-keyword">where</span><span>
</span><span id="line-24"></span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Functor.Identity</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Identity</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Identity</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Set</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Set</span></span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/tommy/.local/state/cabal/store/ghc-9.10.1-0348/fs-effectful-0.1-e36fc806e7c6a22475c146f14f54ce4000691b2d7fbb3fd2cec90d44aa064737/share/doc/html/src/Effectful.FileSystem.PathReader.Dynamic.html/Effectful.FileSystem.PathReader.Dynamic.html"><span class="hs-identifier">Effectful.FileSystem.PathReader.Dynamic</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">PR</span></span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///home/tommy/.local/state/cabal/store/ghc-9.10.1-0348/fs-utils-0.1-98c482801d5ef5925933b0f33e814691f8f0113763e0f5183e0d5b691f3f61e1/share/doc/html/src/FileSystem.Path.html/FileSystem.Path.html"><span class="hs-identifier">FileSystem.Path</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Path</span></span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.TypeError</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">TE</span></span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.TypeLits</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">ErrorMessage</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">ShowType</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(:&lt;&gt;:)</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">TypeError</span></span><span class="hs-special">)</span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Pacer.Class.FromAlt.html"><span class="hs-identifier">Pacer.Class.FromAlt</span></a></span><span>
</span><span id="line-32"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Pacer.Class.FromAlt.html#FromAlt"><span class="hs-identifier">FromAlt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Pacer.Class.FromAlt.html#Alt1"><span class="hs-identifier">Alt1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Pacer.Class.FromAlt.html#toAlt1"><span class="hs-identifier">toAlt1</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-33"></span><span>    </span><span class="annot"><a href="Pacer.Class.FromAlt.html#%3C%2B%3C%7C%3E%2B%3E"><span class="hs-operator">(&lt;+&lt;|&gt;+&gt;)</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-34"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Pacer.Configuration.Config.html"><span class="hs-identifier">Pacer.Configuration.Config</span></a></span><span>
</span><span id="line-36"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Pacer.Configuration.Config.html#ChartConfig"><span class="hs-identifier">ChartConfig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Pacer.Configuration.Config.html#dataDir"><span class="hs-identifier">dataDir</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-37"></span><span>    </span><span class="annot"><a href="Pacer.Configuration.Config.html#Config"><span class="hs-identifier">Config</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Pacer.Configuration.Config.html#chartConfig"><span class="hs-identifier">chartConfig</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-38"></span><span>    </span><span class="annot"><a href="Pacer.Configuration.Config.html#ConfigWithPath"><span class="hs-identifier">ConfigWithPath</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Pacer.Configuration.Config.html#config"><span class="hs-identifier">config</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Pacer.Configuration.Config.html#dirPath"><span class="hs-identifier">dirPath</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-39"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Pacer.Configuration.Env.Types.html"><span class="hs-identifier">Pacer.Configuration.Env.Types</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Pacer.Configuration.Env.Types.html#CachedPaths"><span class="hs-identifier">CachedPaths</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Pacer.Configuration.Env.Types.html#LogEnv"><span class="hs-identifier">LogEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Pacer.Configuration.Env.Types.html#getCachedXdgConfigPath"><span class="hs-identifier">getCachedXdgConfigPath</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Pacer.Configuration.Env.Types.html"><span class="hs-identifier">Pacer.Configuration.Env.Types</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Types</span></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Pacer.Configuration.Phase.html"><span class="hs-identifier">Pacer.Configuration.Phase</span></a></span><span>
</span><span id="line-43"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Pacer.Configuration.Phase.html#ConfigPhase"><span class="hs-identifier">ConfigPhase</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Pacer.Configuration.Phase.html#ConfigPhaseArgs"><span class="hs-identifier">ConfigPhaseArgs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Pacer.Configuration.Phase.html#ConfigPhaseFinal"><span class="hs-identifier">ConfigPhaseFinal</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-44"></span><span>    </span><span class="annot"><a href="Pacer.Configuration.Phase.html#ConfigPhaseF"><span class="hs-identifier">ConfigPhaseF</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-45"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Pacer.Exception.html"><span class="hs-identifier">Pacer.Exception</span></a></span><span>
</span><span id="line-47"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Pacer.Exception.html#ChartFileMissingE"><span class="hs-identifier">ChartFileMissingE</span></a></span><span>
</span><span id="line-48"></span><span>      </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Pacer.Exception.html#MkChartFileMissingE"><span class="hs-identifier">MkChartFileMissingE</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-49"></span><span>        </span><span class="annot"><a href="Pacer.Exception.html#cliDataDir"><span class="hs-identifier">cliDataDir</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-50"></span><span>        </span><span class="annot"><a href="Pacer.Exception.html#configDataDir"><span class="hs-identifier">configDataDir</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-51"></span><span>        </span><span class="annot"><a href="Pacer.Exception.html#currentDir"><span class="hs-identifier">currentDir</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-52"></span><span>        </span><span class="annot"><a href="Pacer.Exception.html#expectedExts"><span class="hs-identifier">expectedExts</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-53"></span><span>        </span><span class="annot"><a href="Pacer.Exception.html#expectedFiles"><span class="hs-identifier">expectedFiles</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-54"></span><span>        </span><span class="annot"><a href="Pacer.Exception.html#xdgDir"><span class="hs-identifier">xdgDir</span></a></span><span>
</span><span id="line-55"></span><span>      </span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-56"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-57"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Pacer.Prelude.html"><span class="hs-identifier">Pacer.Prelude</span></a></span><span>
</span><span id="line-58"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Pacer.Utils.FileSearch.html"><span class="hs-identifier">Pacer.Utils.FileSearch</span></a></span><span>
</span><span id="line-59"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Pacer.Utils.FileSearch.html#DirNotExistsStrategy"><span class="hs-identifier">DirNotExistsStrategy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Pacer.Utils.FileSearch.html#DirNotExistsFail"><span class="hs-identifier">DirNotExistsFail</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-60"></span><span>    </span><span class="annot"><a href="Pacer.Utils.FileSearch.html#DirNotFoundE"><span class="hs-identifier">DirNotFoundE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Pacer.Utils.FileSearch.html#MkDirNotFoundE"><span class="hs-identifier">MkDirNotFoundE</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-61"></span><span>    </span><span class="annot"><a href="Pacer.Utils.FileSearch.html#FileAliases"><span class="hs-identifier">FileAliases</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Pacer.Utils.FileSearch.html#MkFileAliases"><span class="hs-identifier">MkFileAliases</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-62"></span><span>    </span><span class="annot"><a href="Pacer.Utils.FileSearch.html#FileNotFoundE"><span class="hs-identifier">FileNotFoundE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Pacer.Utils.FileSearch.html#MkFileNotFoundE"><span class="hs-identifier">MkFileNotFoundE</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-63"></span><span>    </span><span class="annot"><a href="Pacer.Utils.FileSearch.html#FileSearch"><span class="hs-identifier">FileSearch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Pacer.Utils.FileSearch.html#SearchFileAliases"><span class="hs-identifier">SearchFileAliases</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Pacer.Utils.FileSearch.html#SearchFileInfix"><span class="hs-identifier">SearchFileInfix</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-64"></span><span>    </span><span class="annot"><a href="Pacer.Utils.FileSearch.html#FileSearchStrategy"><span class="hs-identifier">FileSearchStrategy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Pacer.Utils.FileSearch.html#MkFileSearchStrategy"><span class="hs-identifier">MkFileSearchStrategy</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-65"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-66"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Pacer.Utils.FileSearch.html"><span class="hs-identifier">Pacer.Utils.FileSearch</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Utils.FileSearch</span></span><span>
</span><span id="line-67"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">System.OsPath</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">OsPath</span></span><span>
</span><span id="line-68"></span><span>
</span><span id="line-69"></span><span class="annot"><span class="hs-comment">-- | The type of activities file.</span></span><span>
</span><span id="line-70"></span><span class="hs-keyword">data</span><span> </span><span id="ActivitiesType"><span class="annot"><a href="Pacer.Command.Chart.Params.html#ActivitiesType"><span class="hs-identifier hs-var">ActivitiesType</span></a></span></span><span>
</span><span id="line-71"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-comment">-- | Default activities type, activities.json.</span></span><span>
</span><span id="line-72"></span><span>    </span><span id="ActivitiesDefault"><span class="annot"><a href="Pacer.Command.Chart.Params.html#ActivitiesDefault"><span class="hs-identifier hs-var">ActivitiesDefault</span></a></span></span><span>
</span><span id="line-73"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-comment">-- | Garmin activities type, activities.csv.</span></span><span>
</span><span id="line-74"></span><span>    </span><span id="ActivitiesGarmin"><span class="annot"><a href="Pacer.Command.Chart.Params.html#ActivitiesGarmin"><span class="hs-identifier hs-var">ActivitiesGarmin</span></a></span></span><span>
</span><span id="line-75"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679720651"><span id="local-6989586621679720656"><span class="annot"><span class="annottext">ActivitiesType -&gt; ActivitiesType -&gt; Bool
(ActivitiesType -&gt; ActivitiesType -&gt; Bool)
-&gt; (ActivitiesType -&gt; ActivitiesType -&gt; Bool) -&gt; Eq ActivitiesType
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: ActivitiesType -&gt; ActivitiesType -&gt; Bool
== :: ActivitiesType -&gt; ActivitiesType -&gt; Bool
$c/= :: ActivitiesType -&gt; ActivitiesType -&gt; Bool
/= :: ActivitiesType -&gt; ActivitiesType -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679720661"><span id="local-6989586621679720663"><span id="local-6989586621679720667"><span class="annot"><span class="annottext">Int -&gt; ActivitiesType -&gt; ShowS
[ActivitiesType] -&gt; ShowS
ActivitiesType -&gt; String
(Int -&gt; ActivitiesType -&gt; ShowS)
-&gt; (ActivitiesType -&gt; String)
-&gt; ([ActivitiesType] -&gt; ShowS)
-&gt; Show ActivitiesType
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; ActivitiesType -&gt; ShowS
showsPrec :: Int -&gt; ActivitiesType -&gt; ShowS
$cshow :: ActivitiesType -&gt; String
show :: ActivitiesType -&gt; String
$cshowList :: [ActivitiesType] -&gt; ShowS
showList :: [ActivitiesType] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-76"></span><span>
</span><span id="line-77"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679720673"><span id="local-6989586621679720677"><span class="annot"><a href="file:///nix/store/v4mdbmfdmg0vckv8d11a05a84s63a9v9-text-display-1.0.0.0-doc/share/doc/text-display-1.0.0.0/html/src/Data.Text.Display.Core.html/Data.Text.Display.Core.html#Display"><span class="hs-identifier hs-type">Display</span></a></span><span> </span><span class="annot"><a href="Pacer.Command.Chart.Params.html#ActivitiesType"><span class="hs-identifier hs-type">ActivitiesType</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-78"></span><span>  </span><span id="local-6989586621679720683"><span class="annot"><span class="annottext">displayBuilder :: ActivitiesType -&gt; Builder
</span><a href="#local-6989586621679720683"><span class="hs-identifier hs-var hs-var hs-var">displayBuilder</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-79"></span><span>    </span><span class="annot"><span class="annottext">ActivitiesType
</span><a href="Pacer.Command.Chart.Params.html#ActivitiesDefault"><span class="hs-identifier hs-var">ActivitiesDefault</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Builder
</span><span class="hs-string">&quot;default (json)&quot;</span></span><span>
</span><span id="line-80"></span><span>    </span><span class="annot"><span class="annottext">ActivitiesType
</span><a href="Pacer.Command.Chart.Params.html#ActivitiesGarmin"><span class="hs-identifier hs-var">ActivitiesGarmin</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Builder
</span><span class="hs-string">&quot;garmin (csv)&quot;</span></span><span>
</span><span id="line-81"></span><span>
</span><span id="line-82"></span><span class="hs-keyword">type</span><span> </span><span class="annot"><a href="Pacer.Command.Chart.Params.html#BuildDirF"><span class="hs-identifier hs-type">BuildDirF</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Pacer.Configuration.Phase.html#ConfigPhase"><span class="hs-identifier hs-type">ConfigPhase</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-83"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="BuildDirF"><span class="annot"><a href="Pacer.Command.Chart.Params.html#BuildDirF"><span class="hs-identifier hs-var">BuildDirF</span></a></span></span><span> </span><span id="local-6989586621679720685"><span class="annot"><a href="#local-6989586621679720685"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-84"></span><span>  </span><span id="BuildDirF"><span class="annot"><a href="Pacer.Command.Chart.Params.html#BuildDirF"><span class="hs-identifier hs-var">BuildDirF</span></a></span></span><span> </span><span class="annot"><a href="Pacer.Configuration.Phase.html#ConfigPhaseArgs"><span class="hs-identifier hs-type">ConfigPhaseArgs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">OsPath</span></span><span>
</span><span id="line-85"></span><span>  </span><span id="BuildDirF"><span class="annot"><a href="Pacer.Command.Chart.Params.html#BuildDirF"><span class="hs-identifier hs-var">BuildDirF</span></a></span></span><span> </span><span class="annot"><a href="Pacer.Configuration.Phase.html#ConfigPhaseFinal"><span class="hs-identifier hs-type">ConfigPhaseFinal</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Path</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Abs</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Dir</span></span><span>
</span><span id="line-86"></span><span>
</span><span id="line-87"></span><span class="hs-comment">-- See NOTE: [User Path]</span><span>
</span><span id="line-88"></span><span>
</span><span id="line-89"></span><span class="hs-keyword">type</span><span> </span><span class="annot"><a href="Pacer.Command.Chart.Params.html#PathF"><span class="hs-identifier hs-type">PathF</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Pacer.Configuration.Phase.html#ConfigPhase"><span class="hs-identifier hs-type">ConfigPhase</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-90"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="PathF"><span class="annot"><a href="Pacer.Command.Chart.Params.html#PathF"><span class="hs-identifier hs-var">PathF</span></a></span></span><span> </span><span id="local-6989586621679720686"><span class="annot"><a href="#local-6989586621679720686"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span id="local-6989586621679720687"><span class="annot"><a href="#local-6989586621679720687"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-91"></span><span>  </span><span id="PathF"><span class="annot"><a href="Pacer.Command.Chart.Params.html#PathF"><span class="hs-identifier hs-var">PathF</span></a></span></span><span> </span><span class="annot"><a href="Pacer.Configuration.Phase.html#ConfigPhaseArgs"><span class="hs-identifier hs-type">ConfigPhaseArgs</span></a></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">OsPath</span></span><span>
</span><span id="line-92"></span><span>  </span><span id="PathF"><span class="annot"><a href="Pacer.Command.Chart.Params.html#PathF"><span class="hs-identifier hs-var">PathF</span></a></span></span><span> </span><span class="annot"><a href="Pacer.Configuration.Phase.html#ConfigPhaseFinal"><span class="hs-identifier hs-type">ConfigPhaseFinal</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">File</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Path</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Abs</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">File</span></span><span>
</span><span id="line-93"></span><span>  </span><span id="PathF"><span class="annot"><a href="Pacer.Command.Chart.Params.html#PathF"><span class="hs-identifier hs-var">PathF</span></a></span></span><span> </span><span class="annot"><a href="Pacer.Configuration.Phase.html#ConfigPhaseFinal"><span class="hs-identifier hs-type">ConfigPhaseFinal</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Dir</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-94"></span><span>  </span><span id="PathF"><span class="annot"><a href="Pacer.Command.Chart.Params.html#PathF"><span class="hs-identifier hs-var">PathF</span></a></span></span><span> </span><span id="local-6989586621679720688"><span class="annot"><a href="Pacer.Configuration.Phase.html#ConfigPhaseFinal"><span class="hs-identifier hs-type">ConfigPhaseFinal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720688"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-95"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">TypeError</span></span><span>
</span><span id="line-96"></span><span>      </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TE.Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Type '&quot;</span></span><span>
</span><span id="line-97"></span><span>          </span><span class="annot"><span class="hs-operator hs-type">:&lt;&gt;:</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ShowType</span></span><span> </span><span class="annot"><a href="#local-6989586621679720688"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-98"></span><span>          </span><span class="annot"><span class="hs-operator hs-type">:&lt;&gt;:</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TE.Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;' invalid for PathF.&quot;</span></span><span>
</span><span id="line-99"></span><span>      </span><span class="hs-special">)</span><span>
</span><span id="line-100"></span><span>
</span><span id="line-101"></span><span class="hs-keyword">type</span><span> </span><span class="annot"><a href="Pacer.Command.Chart.Params.html#MPathF"><span class="hs-identifier hs-type">MPathF</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Pacer.Configuration.Phase.html#ConfigPhase"><span class="hs-identifier hs-type">ConfigPhase</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-102"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="MPathF"><span class="annot"><a href="Pacer.Command.Chart.Params.html#MPathF"><span class="hs-identifier hs-var">MPathF</span></a></span></span><span> </span><span id="local-6989586621679720689"><span class="annot"><a href="#local-6989586621679720689"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span id="local-6989586621679720690"><span class="annot"><a href="#local-6989586621679720690"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-103"></span><span>  </span><span id="MPathF"><span class="annot"><a href="Pacer.Command.Chart.Params.html#MPathF"><span class="hs-identifier hs-var">MPathF</span></a></span></span><span> </span><span class="annot"><a href="Pacer.Configuration.Phase.html#ConfigPhaseArgs"><span class="hs-identifier hs-type">ConfigPhaseArgs</span></a></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">OsPath</span></span><span>
</span><span id="line-104"></span><span>  </span><span id="MPathF"><span class="annot"><a href="Pacer.Command.Chart.Params.html#MPathF"><span class="hs-identifier hs-var">MPathF</span></a></span></span><span> </span><span class="annot"><a href="Pacer.Configuration.Phase.html#ConfigPhaseFinal"><span class="hs-identifier hs-type">ConfigPhaseFinal</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">File</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Path</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Abs</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">File</span></span><span class="hs-special">)</span><span>
</span><span id="line-105"></span><span>  </span><span id="MPathF"><span class="annot"><a href="Pacer.Command.Chart.Params.html#MPathF"><span class="hs-identifier hs-var">MPathF</span></a></span></span><span> </span><span class="annot"><a href="Pacer.Configuration.Phase.html#ConfigPhaseFinal"><span class="hs-identifier hs-type">ConfigPhaseFinal</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Dir</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-106"></span><span>  </span><span id="MPathF"><span class="annot"><a href="Pacer.Command.Chart.Params.html#MPathF"><span class="hs-identifier hs-var">MPathF</span></a></span></span><span> </span><span id="local-6989586621679720691"><span class="annot"><a href="Pacer.Configuration.Phase.html#ConfigPhaseFinal"><span class="hs-identifier hs-type">ConfigPhaseFinal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720691"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-107"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">TypeError</span></span><span>
</span><span id="line-108"></span><span>      </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TE.Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Type '&quot;</span></span><span>
</span><span id="line-109"></span><span>          </span><span class="annot"><span class="hs-operator hs-type">:&lt;&gt;:</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ShowType</span></span><span> </span><span class="annot"><a href="#local-6989586621679720691"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-110"></span><span>          </span><span class="annot"><span class="hs-operator hs-type">:&lt;&gt;:</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TE.Text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;' invalid for MPathF.&quot;</span></span><span>
</span><span id="line-111"></span><span>      </span><span class="hs-special">)</span><span>
</span><span id="line-112"></span><span>
</span><span id="line-113"></span><span class="hs-keyword">type</span><span> </span><span class="annot"><a href="Pacer.Command.Chart.Params.html#ActivityPathsF"><span class="hs-identifier hs-type">ActivityPathsF</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Pacer.Configuration.Phase.html#ConfigPhase"><span class="hs-identifier hs-type">ConfigPhase</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-114"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="ActivityPathsF"><span class="annot"><a href="Pacer.Command.Chart.Params.html#ActivityPathsF"><span class="hs-identifier hs-var">ActivityPathsF</span></a></span></span><span> </span><span id="local-6989586621679720692"><span class="annot"><a href="#local-6989586621679720692"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-115"></span><span>  </span><span id="ActivityPathsF"><span class="annot"><a href="Pacer.Command.Chart.Params.html#ActivityPathsF"><span class="hs-identifier hs-var">ActivityPathsF</span></a></span></span><span> </span><span class="annot"><a href="Pacer.Configuration.Phase.html#ConfigPhaseArgs"><span class="hs-identifier hs-type">ConfigPhaseArgs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Seq</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">OsPath</span></span><span>
</span><span id="line-116"></span><span>  </span><span id="ActivityPathsF"><span class="annot"><a href="Pacer.Command.Chart.Params.html#ActivityPathsF"><span class="hs-identifier hs-var">ActivityPathsF</span></a></span></span><span> </span><span class="annot"><a href="Pacer.Configuration.Phase.html#ConfigPhaseFinal"><span class="hs-identifier hs-type">ConfigPhaseFinal</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///nix/store/n2pn8j7bicypyy4x21n1q3bp7xhvaibp-nonempty-containers-0.3.4.5-doc/share/doc/nonempty-containers-0.3.4.5/html/src/Data.Sequence.NonEmpty.Internal.html/Data.Sequence.NonEmpty.Internal.html#NESeq"><span class="hs-identifier hs-type">NESeq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Path</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Abs</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">File</span></span><span class="hs-special">)</span><span>
</span><span id="line-117"></span><span>
</span><span id="line-118"></span><span class="annot"><span class="hs-comment">-- | Chart params.</span></span><span>
</span><span id="line-119"></span><span class="hs-keyword">type</span><span> </span><span class="annot"><a href="Pacer.Command.Chart.Params.html#ChartParams"><span class="hs-identifier hs-type">ChartParams</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Pacer.Configuration.Phase.html#ConfigPhase"><span class="hs-identifier hs-type">ConfigPhase</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-120"></span><span class="hs-keyword">data</span><span> </span><span id="ChartParams"><span class="annot"><a href="Pacer.Command.Chart.Params.html#ChartParams"><span class="hs-identifier hs-var">ChartParams</span></a></span></span><span> </span><span id="local-6989586621679720275"><span class="annot"><a href="#local-6989586621679720275"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="MkChartParams"><span class="annot"><a href="Pacer.Command.Chart.Params.html#MkChartParams"><span class="hs-identifier hs-var">MkChartParams</span></a></span></span><span>
</span><span id="line-121"></span><span>  </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="hs-comment">-- | Optional path to activity labels file.</span></span><span>
</span><span id="line-122"></span><span>    </span><span id="activityLabelsPath"><span class="annot"><span class="annottext">forall (p :: ConfigPhase). ChartParams p -&gt; MPathF p File
</span><a href="Pacer.Command.Chart.Params.html#activityLabelsPath"><span class="hs-identifier hs-var hs-var">activityLabelsPath</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Pacer.Command.Chart.Params.html#MPathF"><span class="hs-identifier hs-type">MPathF</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720275"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">File</span></span><span class="hs-special">,</span><span>
</span><span id="line-123"></span><span>    </span><span class="annot"><span class="hs-comment">-- | Optional path to activities file.</span></span><span>
</span><span id="line-124"></span><span>    </span><span id="activityPaths"><span class="annot"><span class="annottext">forall (p :: ConfigPhase). ChartParams p -&gt; ActivityPathsF p
</span><a href="Pacer.Command.Chart.Params.html#activityPaths"><span class="hs-identifier hs-var hs-var">activityPaths</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Pacer.Command.Chart.Params.html#ActivityPathsF"><span class="hs-identifier hs-type">ActivityPathsF</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720275"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-125"></span><span>    </span><span class="annot"><span class="hs-comment">-- | Build directory.</span></span><span>
</span><span id="line-126"></span><span>    </span><span id="buildDir"><span class="annot"><span class="annottext">forall (p :: ConfigPhase). ChartParams p -&gt; BuildDirF p
</span><a href="Pacer.Command.Chart.Params.html#buildDir"><span class="hs-identifier hs-var hs-var">buildDir</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Pacer.Command.Chart.Params.html#BuildDirF"><span class="hs-identifier hs-type">BuildDirF</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720275"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-127"></span><span>    </span><span class="annot"><span class="hs-comment">-- | If true, copies clean install of web dir.</span></span><span>
</span><span id="line-128"></span><span>    </span><span id="cleanInstall"><span class="annot"><span class="annottext">forall (p :: ConfigPhase). ChartParams p -&gt; Bool
</span><a href="Pacer.Command.Chart.Params.html#cleanInstall"><span class="hs-identifier hs-var hs-var">cleanInstall</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">,</span><span>
</span><span id="line-129"></span><span>    </span><span class="annot"><span class="hs-comment">-- | Optional path to chart-requests.json.</span></span><span>
</span><span id="line-130"></span><span>    </span><span id="chartRequestsPath"><span class="annot"><span class="annottext">forall (p :: ConfigPhase). ChartParams p -&gt; PathF p File
</span><a href="Pacer.Command.Chart.Params.html#chartRequestsPath"><span class="hs-identifier hs-var hs-var">chartRequestsPath</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Pacer.Command.Chart.Params.html#PathF"><span class="hs-identifier hs-type">PathF</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720275"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">File</span></span><span class="hs-special">,</span><span>
</span><span id="line-131"></span><span>    </span><span class="annot"><span class="hs-comment">-- | Optional path to directory with activities file and chart-requests.json.</span></span><span>
</span><span id="line-132"></span><span>    </span><span id="dataDir"><span class="annot"><span class="annottext">forall (p :: ConfigPhase). ChartParams p -&gt; PathF p Dir
</span><a href="Pacer.Command.Chart.Params.html#dataDir"><span class="hs-identifier hs-var hs-var">dataDir</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Pacer.Command.Chart.Params.html#PathF"><span class="hs-identifier hs-type">PathF</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720275"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Dir</span></span><span class="hs-special">,</span><span>
</span><span id="line-133"></span><span>    </span><span class="hs-comment">-- | If true, stops the build after generating the intermediate json</span><span>
</span><span id="line-134"></span><span>    </span><span class="hs-comment">-- file.</span><span>
</span><span id="line-135"></span><span>    </span><span id="json"><span class="annot"><span class="annottext">forall (p :: ConfigPhase). ChartParams p -&gt; Bool
</span><a href="Pacer.Command.Chart.Params.html#json"><span class="hs-identifier hs-var hs-var">json</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">,</span><span>
</span><span id="line-136"></span><span>    </span><span class="annot"><span class="hs-comment">-- | Port the server runs on.</span></span><span>
</span><span id="line-137"></span><span>    </span><span id="port"><span class="annot"><span class="annottext">forall (p :: ConfigPhase). ChartParams p -&gt; ConfigPhaseF p Word16
</span><a href="Pacer.Command.Chart.Params.html#port"><span class="hs-identifier hs-var hs-var">port</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Pacer.Configuration.Phase.html#ConfigPhaseF"><span class="hs-identifier hs-type">ConfigPhaseF</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720275"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word16</span></span><span>
</span><span id="line-138"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-139"></span><span>
</span><span id="line-140"></span><span class="hs-keyword">type</span><span> </span><span id="ChartParamsArgs"><span class="annot"><a href="Pacer.Command.Chart.Params.html#ChartParamsArgs"><span class="hs-identifier hs-var">ChartParamsArgs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Pacer.Command.Chart.Params.html#ChartParams"><span class="hs-identifier hs-type">ChartParams</span></a></span><span> </span><span class="annot"><a href="Pacer.Configuration.Phase.html#ConfigPhaseArgs"><span class="hs-identifier hs-type">ConfigPhaseArgs</span></a></span><span>
</span><span id="line-141"></span><span>
</span><span id="line-142"></span><span class="hs-keyword">type</span><span> </span><span id="ChartParamsFinal"><span class="annot"><a href="Pacer.Command.Chart.Params.html#ChartParamsFinal"><span class="hs-identifier hs-var">ChartParamsFinal</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Pacer.Command.Chart.Params.html#ChartParams"><span class="hs-identifier hs-type">ChartParams</span></a></span><span> </span><span class="annot"><a href="Pacer.Configuration.Phase.html#ConfigPhaseFinal"><span class="hs-identifier hs-type">ConfigPhaseFinal</span></a></span><span>
</span><span id="line-143"></span><span>
</span><span id="line-144"></span><span id="local-6989586621679720709"><span id="local-6989586621679720720"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679720293"><span class="annot"><a href="#local-6989586621679720293"><span class="hs-keyword hs-type">stock</span></a></span></span><span> </span><span class="hs-keyword">instance</span><span>
</span><span id="line-145"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Pacer.Command.Chart.Params.html#ActivityPathsF"><span class="hs-identifier hs-type">ActivityPathsF</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720293"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-146"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Pacer.Command.Chart.Params.html#BuildDirF"><span class="hs-identifier hs-type">BuildDirF</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720293"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-147"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Pacer.Configuration.Phase.html#ConfigPhaseF"><span class="hs-identifier hs-type">ConfigPhaseF</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720293"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word16</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-148"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Pacer.Command.Chart.Params.html#MPathF"><span class="hs-identifier hs-type">MPathF</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720293"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">File</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-149"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Pacer.Command.Chart.Params.html#PathF"><span class="hs-identifier hs-type">PathF</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720293"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Dir</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-150"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Pacer.Command.Chart.Params.html#PathF"><span class="hs-identifier hs-type">PathF</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720293"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">File</span></span><span class="hs-special">)</span><span>
</span><span id="line-151"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-152"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Pacer.Command.Chart.Params.html#ChartParams"><span class="hs-identifier hs-type">ChartParams</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720293"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-153"></span><span>
</span><span id="line-154"></span><span id="local-6989586621679720730"><span id="local-6989586621679720743"><span id="local-6989586621679720747"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679720295"><span class="annot"><a href="#local-6989586621679720295"><span class="hs-keyword hs-type">stock</span></a></span></span><span> </span><span class="hs-keyword">instance</span><span>
</span><span id="line-155"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Pacer.Command.Chart.Params.html#ActivityPathsF"><span class="hs-identifier hs-type">ActivityPathsF</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720295"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-156"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Pacer.Command.Chart.Params.html#BuildDirF"><span class="hs-identifier hs-type">BuildDirF</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720295"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-157"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Pacer.Configuration.Phase.html#ConfigPhaseF"><span class="hs-identifier hs-type">ConfigPhaseF</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720295"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word16</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-158"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Pacer.Command.Chart.Params.html#MPathF"><span class="hs-identifier hs-type">MPathF</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720295"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">File</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-159"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Pacer.Command.Chart.Params.html#PathF"><span class="hs-identifier hs-type">PathF</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720295"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Dir</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-160"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Pacer.Command.Chart.Params.html#PathF"><span class="hs-identifier hs-type">PathF</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720295"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">File</span></span><span class="hs-special">)</span><span>
</span><span id="line-161"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-162"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Pacer.Command.Chart.Params.html#ChartParams"><span class="hs-identifier hs-type">ChartParams</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720295"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-163"></span><span>
</span><span id="line-164"></span><span class="annot"><span class="hs-comment">-- | Evolve chart params' phase.</span></span><span>
</span><span id="line-165"></span><span id="local-6989586621679720299"><span class="annot"><a href="Pacer.Command.Chart.Params.html#evolvePhase"><span class="hs-identifier hs-type">evolvePhase</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-166"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HasCallStack</span></span><span class="hs-special">,</span><span>
</span><span id="line-167"></span><span>    </span><span class="annot"><a href="file:///home/tommy/.local/state/cabal/store/ghc-9.10.1-0348/logger-effectful-0.1-4c462c8d83799fc5c4900b79f30134a510b541d670854fe1dc3097beacce1d6c/share/doc/html/src/Effectful.Logger.Dynamic.html/Effectful.Logger.Dynamic.html#Logger"><span class="hs-identifier hs-type">Logger</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/1hak7cv0zdhl1xga54zmrx8mlz5ilw6q-effectful-core-2.5.1.0-doc/share/doc/effectful-core-2.5.1.0/html/src/Effectful.Internal.Effect.html/Effectful.Internal.Effect.html#%3A%3E"><span class="hs-operator hs-type">:&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720299"><span class="hs-identifier hs-type">es</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-168"></span><span>    </span><span class="annot"><a href="file:///home/tommy/.local/state/cabal/store/ghc-9.10.1-0348/logger-ns-effectful-0.1-ae2e630453229cbb00613472d13a57e996eac70db6fdcd6c66ce2f6fc739e434/share/doc/html/src/Effectful.LoggerNS.Static.html/Effectful.LoggerNS.Static.html#LoggerNS"><span class="hs-identifier hs-type">LoggerNS</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/1hak7cv0zdhl1xga54zmrx8mlz5ilw6q-effectful-core-2.5.1.0-doc/share/doc/effectful-core-2.5.1.0/html/src/Effectful.Internal.Effect.html/Effectful.Internal.Effect.html#%3A%3E"><span class="hs-operator hs-type">:&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720299"><span class="hs-identifier hs-type">es</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-169"></span><span>    </span><span class="annot"><a href="file:///home/tommy/.local/state/cabal/store/ghc-9.10.1-0348/fs-effectful-0.1-e36fc806e7c6a22475c146f14f54ce4000691b2d7fbb3fd2cec90d44aa064737/share/doc/html/src/Effectful.FileSystem.PathReader.Dynamic.html/Effectful.FileSystem.PathReader.Dynamic.html#PathReader"><span class="hs-identifier hs-type">PathReader</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/1hak7cv0zdhl1xga54zmrx8mlz5ilw6q-effectful-core-2.5.1.0-doc/share/doc/effectful-core-2.5.1.0/html/src/Effectful.Internal.Effect.html/Effectful.Internal.Effect.html#%3A%3E"><span class="hs-operator hs-type">:&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720299"><span class="hs-identifier hs-type">es</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-170"></span><span>    </span><span class="annot"><a href="file:///nix/store/1hak7cv0zdhl1xga54zmrx8mlz5ilw6q-effectful-core-2.5.1.0-doc/share/doc/effectful-core-2.5.1.0/html/src/Effectful.Reader.Static.html/Effectful.Reader.Static.html#Reader"><span class="hs-identifier hs-type">Reader</span></a></span><span> </span><span class="annot"><a href="Pacer.Configuration.Env.Types.html#LogEnv"><span class="hs-identifier hs-type">LogEnv</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/1hak7cv0zdhl1xga54zmrx8mlz5ilw6q-effectful-core-2.5.1.0-doc/share/doc/effectful-core-2.5.1.0/html/src/Effectful.Internal.Effect.html/Effectful.Internal.Effect.html#%3A%3E"><span class="hs-operator hs-type">:&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720299"><span class="hs-identifier hs-type">es</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-171"></span><span>    </span><span class="annot"><a href="file:///nix/store/1hak7cv0zdhl1xga54zmrx8mlz5ilw6q-effectful-core-2.5.1.0-doc/share/doc/effectful-core-2.5.1.0/html/src/Effectful.State.Static.Local.html/Effectful.State.Static.Local.html#State"><span class="hs-identifier hs-type">State</span></a></span><span> </span><span class="annot"><a href="Pacer.Configuration.Env.Types.html#CachedPaths"><span class="hs-identifier hs-type">CachedPaths</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/1hak7cv0zdhl1xga54zmrx8mlz5ilw6q-effectful-core-2.5.1.0-doc/share/doc/effectful-core-2.5.1.0/html/src/Effectful.Internal.Effect.html/Effectful.Internal.Effect.html#%3A%3E"><span class="hs-operator hs-type">:&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720299"><span class="hs-identifier hs-type">es</span></a></span><span>
</span><span id="line-172"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-173"></span><span>  </span><span class="annot"><a href="Pacer.Command.Chart.Params.html#ChartParamsArgs"><span class="hs-identifier hs-type">ChartParamsArgs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-174"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Pacer.Configuration.Config.html#ConfigWithPath"><span class="hs-identifier hs-type">ConfigWithPath</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-175"></span><span>  </span><span class="annot"><a href="file:///nix/store/1hak7cv0zdhl1xga54zmrx8mlz5ilw6q-effectful-core-2.5.1.0-doc/share/doc/effectful-core-2.5.1.0/html/src/Effectful.Internal.Monad.html/Effectful.Internal.Monad.html#Eff"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720299"><span class="hs-identifier hs-type">es</span></a></span><span> </span><span class="annot"><a href="Pacer.Command.Chart.Params.html#ChartParamsFinal"><span class="hs-identifier hs-type">ChartParamsFinal</span></a></span></span><span>
</span><span id="line-176"></span><span id="evolvePhase"><span class="annot"><span class="annottext">evolvePhase :: forall (es :: [Effect]).
(HasCallStack, Logger :&gt; es, LoggerNS :&gt; es, PathReader :&gt; es,
 Reader LogEnv :&gt; es, State CachedPaths :&gt; es) =&gt;
ChartParamsArgs -&gt; Maybe ConfigWithPath -&gt; Eff es ChartParamsFinal
</span><a href="Pacer.Command.Chart.Params.html#evolvePhase"><span class="hs-identifier hs-var hs-var">evolvePhase</span></a></span></span><span> </span><span class="hs-glyph">@</span><span id="local-6989586621679720860"><span class="annot"><a href="#local-6989586621679720860"><span class="hs-identifier hs-type hs-type">es</span></a></span></span><span> </span><span id="local-6989586621679720861"><span class="annot"><span class="annottext">ChartParamsArgs
</span><a href="#local-6989586621679720861"><span class="hs-identifier hs-var">params</span></a></span></span><span> </span><span id="local-6989586621679720862"><span class="annot"><span class="annottext">Maybe ConfigWithPath
</span><a href="#local-6989586621679720862"><span class="hs-identifier hs-var">mConfigWithPath</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-177"></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621679720863"><span class="annot"><span class="annottext">Path Abs File
</span><a href="#local-6989586621679720863"><span class="hs-identifier hs-var">chartRequestsPath</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679720864"><span class="annot"><span class="annottext">Maybe (Path Abs File)
</span><a href="#local-6989586621679720864"><span class="hs-identifier hs-var">activityLabelsPath</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679720865"><span class="annot"><span class="annottext">NESeq (Path Abs File)
</span><a href="#local-6989586621679720865"><span class="hs-identifier hs-var">activityPaths</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-178"></span><span>    </span><span class="annot"><span class="annottext">ChartParamsArgs -&gt; Maybe ConfigWithPath -&gt; Eff es ChartInputs
forall (es :: [Effect]).
(HasCallStack, Logger :&gt; es, LoggerNS :&gt; es, PathReader :&gt; es,
 Reader LogEnv :&gt; es, State CachedPaths :&gt; es) =&gt;
ChartParamsArgs -&gt; Maybe ConfigWithPath -&gt; Eff es ChartInputs
</span><a href="Pacer.Command.Chart.Params.html#getChartInputs"><span class="hs-identifier hs-var">getChartInputs</span></a></span><span> </span><span class="annot"><span class="annottext">ChartParamsArgs
</span><a href="#local-6989586621679720861"><span class="hs-identifier hs-var">params</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ConfigWithPath
</span><a href="#local-6989586621679720862"><span class="hs-identifier hs-var">mConfigWithPath</span></a></span><span>
</span><span id="line-179"></span><span>
</span><span id="line-180"></span><span>  </span><span class="hs-comment">-- This is _mostly_ unnecessary, as most logic verifies file existence.</span><span>
</span><span id="line-181"></span><span>  </span><span class="hs-comment">-- The json config doesn't in all cases though, and we should probably</span><span>
</span><span id="line-182"></span><span>  </span><span class="hs-comment">-- keep this out of paranoia, in any case.</span><span>
</span><span id="line-183"></span><span>  </span><span class="annot"><span class="annottext">Path Abs File -&gt; Eff es ()
forall (es :: [Effect]) b t.
(HasCallStack, PathReader :&gt; es) =&gt;
Path b t -&gt; Eff es ()
</span><a href="Pacer.Command.Chart.Params.html#assertExists"><span class="hs-identifier hs-var">assertExists</span></a></span><span> </span><span class="annot"><span class="annottext">Path Abs File
</span><a href="#local-6989586621679720863"><span class="hs-identifier hs-var">chartRequestsPath</span></a></span><span>
</span><span id="line-184"></span><span>  </span><span class="annot"><span class="annottext">NESeq (Path Abs File) -&gt; (Path Abs File -&gt; Eff es ()) -&gt; Eff es ()
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f ()
</span><span class="hs-identifier hs-var">for_</span></span><span> </span><span class="annot"><span class="annottext">NESeq (Path Abs File)
</span><a href="#local-6989586621679720865"><span class="hs-identifier hs-var">activityPaths</span></a></span><span> </span><span class="annot"><span class="annottext">Path Abs File -&gt; Eff es ()
forall (es :: [Effect]) b t.
(HasCallStack, PathReader :&gt; es) =&gt;
Path b t -&gt; Eff es ()
</span><a href="Pacer.Command.Chart.Params.html#assertExists"><span class="hs-identifier hs-var">assertExists</span></a></span><span>
</span><span id="line-185"></span><span>  </span><span class="annot"><span class="annottext">Maybe (Path Abs File) -&gt; (Path Abs File -&gt; Eff es ()) -&gt; Eff es ()
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f ()
</span><span class="hs-identifier hs-var">for_</span></span><span> </span><span class="annot"><span class="annottext">Maybe (Path Abs File)
</span><a href="#local-6989586621679720864"><span class="hs-identifier hs-var">activityLabelsPath</span></a></span><span> </span><span class="annot"><span class="annottext">Path Abs File -&gt; Eff es ()
forall (es :: [Effect]) b t.
(HasCallStack, PathReader :&gt; es) =&gt;
Path b t -&gt; Eff es ()
</span><a href="Pacer.Command.Chart.Params.html#assertExists"><span class="hs-identifier hs-var">assertExists</span></a></span><span>
</span><span id="line-186"></span><span>
</span><span id="line-187"></span><span>  </span><span id="local-6989586621679720869"><span class="annot"><span class="annottext">Path Abs Dir
</span><a href="#local-6989586621679720869"><span class="hs-identifier hs-var">buildDir</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-188"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ChartParamsArgs
</span><a href="#local-6989586621679720861"><span class="hs-identifier hs-var">params</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">buildDir</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-189"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679720870"><span class="annot"><span class="annottext">OsPath
</span><a href="#local-6989586621679720870"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-190"></span><span>        </span><span class="hs-comment">-- --build-dir exists, parse absolute or resolve relative to cwd</span><span>
</span><span id="line-191"></span><span>        </span><span id="local-6989586621679720871"><span class="annot"><span class="annottext">Path Abs Dir
</span><a href="#local-6989586621679720871"><span class="hs-identifier hs-var">cwdPath</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Eff es (Path Abs Dir)
forall (es :: [Effect]).
(HasCallStack, PathReader :&gt; es, State CachedPaths :&gt; es) =&gt;
Eff es (Path Abs Dir)
</span><a href="Pacer.Configuration.Env.Types.html#getCachedCurrentDirectory"><span class="hs-identifier hs-var">Types.getCachedCurrentDirectory</span></a></span><span>
</span><span id="line-192"></span><span>        </span><span class="annot"><span class="annottext">Path Abs Dir -&gt; OsPath -&gt; Eff es (Path Abs Dir)
</span><a href="#local-6989586621679720873"><span class="hs-identifier hs-var">customBuildDir</span></a></span><span> </span><span class="annot"><span class="annottext">Path Abs Dir
</span><a href="#local-6989586621679720871"><span class="hs-identifier hs-var">cwdPath</span></a></span><span> </span><span class="annot"><span class="annottext">OsPath
</span><a href="#local-6989586621679720870"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-193"></span><span>      </span><span class="annot"><span class="annottext">Maybe OsPath
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe ConfigWithPath
</span><a href="#local-6989586621679720862"><span class="hs-identifier hs-var">mConfigWithPath</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-194"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679720874"><span class="annot"><span class="annottext">ConfigWithPath
</span><a href="#local-6989586621679720874"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-195"></span><span>          </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Optic' An_AffineTraversal NoIx ConfigWithPath OsPath
-&gt; ConfigWithPath -&gt; Maybe OsPath
forall k (is :: IxList) s a.
Is k An_AffineFold =&gt;
Optic' k is s a -&gt; s -&gt; Maybe a
</span><a href="file:///nix/store/nxp7m462ws2dz3sc7k7vzml10hs63r9x-optics-core-0.4.1.1-doc/share/doc/optics-core-0.4.1.1/html/src/Optics.AffineFold.html/Optics.AffineFold.html#preview"><span class="hs-identifier hs-var">preview</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Optic A_Lens NoIx ConfigWithPath ConfigWithPath Config Config
</span><span class="">#config</span></span><span> </span><span class="annot"><span class="annottext">Optic A_Lens NoIx ConfigWithPath ConfigWithPath Config Config
-&gt; Optic
     A_Lens NoIx Config Config (Maybe ChartConfig) (Maybe ChartConfig)
-&gt; Optic
     A_Lens
     NoIx
     ConfigWithPath
     ConfigWithPath
     (Maybe ChartConfig)
     (Maybe ChartConfig)
forall k l m (is :: IxList) (js :: IxList) (ks :: IxList) s t u v a
       b.
(JoinKinds k l m, AppendIndices is js ks) =&gt;
Optic k is s t u v -&gt; Optic l js u v a b -&gt; Optic m ks s t a b
</span><a href="file:///nix/store/nxp7m462ws2dz3sc7k7vzml10hs63r9x-optics-core-0.4.1.1-doc/share/doc/optics-core-0.4.1.1/html/src/Optics.Internal.Optic.html/Optics.Internal.Optic.html#%25"><span class="hs-operator hs-var">%</span></a></span><span> </span><span class="annot"><span class="annottext">Optic
  A_Lens NoIx Config Config (Maybe ChartConfig) (Maybe ChartConfig)
</span><span class="">#chartConfig</span></span><span> </span><span class="annot"><span class="annottext">Optic
  A_Lens
  NoIx
  ConfigWithPath
  ConfigWithPath
  (Maybe ChartConfig)
  (Maybe ChartConfig)
-&gt; Optic
     A_Lens NoIx ChartConfig ChartConfig (Maybe OsPath) (Maybe OsPath)
-&gt; Optic
     An_AffineTraversal
     NoIx
     ConfigWithPath
     ConfigWithPath
     (Maybe OsPath)
     (Maybe OsPath)
forall (is :: IxList) (js :: IxList) (ks :: IxList) k k' l m s t u
       v a b.
(AppendIndices is js ks, JoinKinds k A_Prism k',
 JoinKinds k' l m) =&gt;
Optic k is s t (Maybe u) (Maybe v)
-&gt; Optic l js u v a b -&gt; Optic m ks s t a b
</span><a href="file:///nix/store/nxp7m462ws2dz3sc7k7vzml10hs63r9x-optics-core-0.4.1.1-doc/share/doc/optics-core-0.4.1.1/html/src/Data.Maybe.Optics.html/Data.Maybe.Optics.html#%25%3F"><span class="hs-operator hs-var">%?</span></a></span><span> </span><span class="annot"><span class="annottext">Optic
  A_Lens NoIx ChartConfig ChartConfig (Maybe OsPath) (Maybe OsPath)
</span><span class="">#buildDir</span></span><span> </span><span class="annot"><span class="annottext">Optic
  An_AffineTraversal
  NoIx
  ConfigWithPath
  ConfigWithPath
  (Maybe OsPath)
  (Maybe OsPath)
-&gt; Optic A_Prism NoIx (Maybe OsPath) (Maybe OsPath) OsPath OsPath
-&gt; Optic' An_AffineTraversal NoIx ConfigWithPath OsPath
forall k l m (is :: IxList) (js :: IxList) (ks :: IxList) s t u v a
       b.
(JoinKinds k l m, AppendIndices is js ks) =&gt;
Optic k is s t u v -&gt; Optic l js u v a b -&gt; Optic m ks s t a b
</span><a href="file:///nix/store/nxp7m462ws2dz3sc7k7vzml10hs63r9x-optics-core-0.4.1.1-doc/share/doc/optics-core-0.4.1.1/html/src/Optics.Internal.Optic.html/Optics.Internal.Optic.html#%25"><span class="hs-operator hs-var">%</span></a></span><span> </span><span class="annot"><span class="annottext">Optic A_Prism NoIx (Maybe OsPath) (Maybe OsPath) OsPath OsPath
forall a b. Prism (Maybe a) (Maybe b) a b
</span><a href="file:///nix/store/nxp7m462ws2dz3sc7k7vzml10hs63r9x-optics-core-0.4.1.1-doc/share/doc/optics-core-0.4.1.1/html/src/Data.Maybe.Optics.html/Data.Maybe.Optics.html#_Just"><span class="hs-identifier hs-var">_Just</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ConfigWithPath
</span><a href="#local-6989586621679720874"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-196"></span><span>            </span><span class="hs-comment">-- config.build-dir exists, parse absolute or resolve relative to</span><span>
</span><span id="line-197"></span><span>            </span><span class="hs-comment">-- config path.</span><span>
</span><span id="line-198"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679720879"><span class="annot"><span class="annottext">OsPath
</span><a href="#local-6989586621679720879"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Path Abs Dir -&gt; OsPath -&gt; Eff es (Path Abs Dir)
</span><a href="#local-6989586621679720873"><span class="hs-identifier hs-var">customBuildDir</span></a></span><span> </span><span class="annot"><span class="annottext">ConfigWithPath
</span><a href="#local-6989586621679720874"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">dirPath</span><span> </span><span class="annot"><span class="annottext">OsPath
</span><a href="#local-6989586621679720879"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-199"></span><span>            </span><span class="hs-comment">-- otherwise use default, cwd/build</span><span>
</span><span id="line-200"></span><span>            </span><span class="annot"><span class="annottext">Maybe OsPath
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Eff es (Path Abs Dir)
</span><a href="#local-6989586621679720880"><span class="hs-identifier hs-var">defaultBuildDir</span></a></span><span>
</span><span id="line-201"></span><span>        </span><span class="annot"><span class="annottext">Maybe ConfigWithPath
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Eff es (Path Abs Dir)
</span><a href="#local-6989586621679720880"><span class="hs-identifier hs-var">defaultBuildDir</span></a></span><span>
</span><span id="line-202"></span><span>
</span><span id="line-203"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679720881"><span class="annot"><span class="annottext">port :: Word16
</span><a href="#local-6989586621679720881"><span class="hs-identifier hs-var hs-var">port</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word16 -&gt; Maybe Word16 -&gt; Word16
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="annot"><span class="annottext">Word16
</span><span class="hs-number">3000</span></span><span> </span><span class="annot"><span class="annottext">ChartParamsArgs
</span><a href="#local-6989586621679720861"><span class="hs-identifier hs-var">params</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">port</span><span>
</span><span id="line-204"></span><span>
</span><span id="line-205"></span><span>  </span><span class="hs-identifier">pure</span><span>
</span><span id="line-206"></span><span>    </span><span class="hs-operator">$</span><span> </span><span class="annot"><a href="Pacer.Command.Chart.Params.html#MkChartParams"><span class="hs-identifier hs-type">MkChartParams</span></a></span><span>
</span><span id="line-207"></span><span>      </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">Maybe (Path Abs File)
MPathF 'ConfigPhaseFinal File
activityLabelsPath :: MPathF 'ConfigPhaseFinal File
activityLabelsPath :: Maybe (Path Abs File)
</span><a href="Pacer.Command.Chart.Params.html#activityLabelsPath"><span class="hs-identifier hs-var hs-var">activityLabelsPath</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-208"></span><span>        </span><span class="annot"><span class="annottext">NESeq (Path Abs File)
ActivityPathsF 'ConfigPhaseFinal
activityPaths :: ActivityPathsF 'ConfigPhaseFinal
activityPaths :: NESeq (Path Abs File)
</span><a href="Pacer.Command.Chart.Params.html#activityPaths"><span class="hs-identifier hs-var hs-var">activityPaths</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-209"></span><span>        </span><span class="annot"><span class="annottext">Path Abs Dir
BuildDirF 'ConfigPhaseFinal
buildDir :: BuildDirF 'ConfigPhaseFinal
buildDir :: Path Abs Dir
</span><a href="Pacer.Command.Chart.Params.html#buildDir"><span class="hs-identifier hs-var hs-var">buildDir</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-210"></span><span>        </span><span class="annot"><span class="annottext">cleanInstall :: Bool
</span><a href="Pacer.Command.Chart.Params.html#cleanInstall"><span class="hs-identifier hs-var">cleanInstall</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ChartParamsArgs
</span><a href="#local-6989586621679720861"><span class="hs-identifier hs-var">params</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">cleanInstall</span><span class="hs-special">,</span><span>
</span><span id="line-211"></span><span>        </span><span class="annot"><span class="annottext">Path Abs File
PathF 'ConfigPhaseFinal File
chartRequestsPath :: PathF 'ConfigPhaseFinal File
chartRequestsPath :: Path Abs File
</span><a href="Pacer.Command.Chart.Params.html#chartRequestsPath"><span class="hs-identifier hs-var hs-var">chartRequestsPath</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-212"></span><span>        </span><span class="annot"><span class="annottext">dataDir :: PathF 'ConfigPhaseFinal Dir
</span><a href="Pacer.Command.Chart.Params.html#dataDir"><span class="hs-identifier hs-var">dataDir</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-213"></span><span>        </span><span class="annot"><span class="annottext">json :: Bool
</span><a href="Pacer.Command.Chart.Params.html#json"><span class="hs-identifier hs-var">json</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ChartParamsArgs
</span><a href="#local-6989586621679720861"><span class="hs-identifier hs-var">params</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">json</span><span class="hs-special">,</span><span>
</span><span id="line-214"></span><span>        </span><span class="annot"><span class="annottext">Word16
ConfigPhaseF 'ConfigPhaseFinal Word16
port :: ConfigPhaseF 'ConfigPhaseFinal Word16
port :: Word16
</span><a href="Pacer.Command.Chart.Params.html#port"><span class="hs-identifier hs-var hs-var">port</span></a></span><span>
</span><span id="line-215"></span><span>      </span><span class="hs-special">}</span><span>
</span><span id="line-216"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-217"></span><span>    </span><span class="annot"><a href="#local-6989586621679720880"><span class="hs-identifier hs-type">defaultBuildDir</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/1hak7cv0zdhl1xga54zmrx8mlz5ilw6q-effectful-core-2.5.1.0-doc/share/doc/effectful-core-2.5.1.0/html/src/Effectful.Internal.Monad.html/Effectful.Internal.Monad.html#Eff"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720860"><span class="hs-identifier hs-type">es</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Path</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Abs</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Dir</span></span><span class="hs-special">)</span><span>
</span><span id="line-218"></span><span>    </span><span id="local-6989586621679720880"><span class="annot"><span class="annottext">defaultBuildDir :: Eff es (Path Abs Dir)
</span><a href="#local-6989586621679720880"><span class="hs-identifier hs-var hs-var">defaultBuildDir</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-219"></span><span>      </span><span id="local-6989586621679720883"><span class="annot"><span class="annottext">Path Abs Dir
</span><a href="#local-6989586621679720883"><span class="hs-identifier hs-var">cwdPath</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Eff es (Path Abs Dir)
forall (es :: [Effect]).
(HasCallStack, PathReader :&gt; es, State CachedPaths :&gt; es) =&gt;
Eff es (Path Abs Dir)
</span><a href="Pacer.Configuration.Env.Types.html#getCachedCurrentDirectory"><span class="hs-identifier hs-var">Types.getCachedCurrentDirectory</span></a></span><span>
</span><span id="line-220"></span><span>      </span><span class="hs-identifier">pure</span><span> </span><span class="hs-operator">$</span><span> </span><span class="annot"><span class="annottext">Path Abs Dir
</span><a href="#local-6989586621679720883"><span class="hs-identifier hs-var">cwdPath</span></a></span><span> </span><span class="annot"><span class="annottext">Path Abs Dir -&gt; Path Rel Dir -&gt; Path Abs Dir
forall b t. Path b Dir -&gt; Path Rel t -&gt; Path b t
</span><a href="file:///home/tommy/.local/state/cabal/store/ghc-9.10.1-0348/fs-utils-0.1-98c482801d5ef5925933b0f33e814691f8f0113763e0f5183e0d5b691f3f61e1/share/doc/html/src/FileSystem.Path.html/FileSystem.Path.html#%3C%3C%2F%3E%3E"><span class="hs-operator hs-var">&lt;&lt;/&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="">[reldir|build|]</span></span><span>
</span><span id="line-221"></span><span>
</span><span id="line-222"></span><span>    </span><span class="annot"><a href="#local-6989586621679720873"><span class="hs-identifier hs-type">customBuildDir</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Path</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Abs</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Dir</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OsPath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/1hak7cv0zdhl1xga54zmrx8mlz5ilw6q-effectful-core-2.5.1.0-doc/share/doc/effectful-core-2.5.1.0/html/src/Effectful.Internal.Monad.html/Effectful.Internal.Monad.html#Eff"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720860"><span class="hs-identifier hs-type">es</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Path</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Abs</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Dir</span></span><span class="hs-special">)</span><span>
</span><span id="line-223"></span><span>    </span><span id="local-6989586621679720873"><span class="annot"><span class="annottext">customBuildDir :: Path Abs Dir -&gt; OsPath -&gt; Eff es (Path Abs Dir)
</span><a href="#local-6989586621679720873"><span class="hs-identifier hs-var hs-var">customBuildDir</span></a></span></span><span> </span><span id="local-6989586621679720888"><span class="annot"><span class="annottext">Path Abs Dir
</span><a href="#local-6989586621679720888"><span class="hs-identifier hs-var">absDir</span></a></span></span><span> </span><span id="local-6989586621679720889"><span class="annot"><span class="annottext">OsPath
</span><a href="#local-6989586621679720889"><span class="hs-identifier hs-var">unknownDir</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-224"></span><span>      </span><span class="annot"><span class="annottext">forall e t (es :: [Effect]).
(Exception e, HasCallStack) =&gt;
Maybe (OsPath -&gt; e, OsPath -&gt; Eff es Bool)
-&gt; Path Abs Dir
-&gt; (HasCallStack =&gt; OsPath -&gt; Eff es (Path Abs t))
-&gt; (HasCallStack =&gt; OsPath -&gt; Eff es (Path Rel t))
-&gt; OsPath
-&gt; Eff es (Path Abs t)
</span><a href="Pacer.Command.Chart.Params.html#handleUnknownPath"><span class="hs-identifier hs-var">handleUnknownPath</span></a></span><span>
</span><span id="line-225"></span><span>        </span><span class="hs-glyph">@</span><span class="annot"><a href="Pacer.Utils.FileSearch.html#DirNotFoundE"><span class="hs-identifier hs-type">DirNotFoundE</span></a></span><span>
</span><span id="line-226"></span><span>        </span><span class="annot"><span class="annottext">Maybe (OsPath -&gt; DirNotFoundE, OsPath -&gt; Eff es Bool)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-227"></span><span>        </span><span class="annot"><span class="annottext">Path Abs Dir
</span><a href="#local-6989586621679720888"><span class="hs-identifier hs-var">absDir</span></a></span><span>
</span><span id="line-228"></span><span>        </span><span class="annot"><span class="annottext">HasCallStack =&gt; OsPath -&gt; Eff es (Path Abs Dir)
OsPath -&gt; Eff es (Path Abs Dir)
forall (m :: * -&gt; *).
(HasCallStack, MonadThrow m) =&gt;
OsPath -&gt; m (Path Abs Dir)
</span><a href="file:///home/tommy/.local/state/cabal/store/ghc-9.10.1-0348/fs-utils-0.1-98c482801d5ef5925933b0f33e814691f8f0113763e0f5183e0d5b691f3f61e1/share/doc/html/src/FileSystem.Path.html/FileSystem.Path.html#parseAbsDir"><span class="hs-identifier hs-var">Path.parseAbsDir</span></a></span><span>
</span><span id="line-229"></span><span>        </span><span class="annot"><span class="annottext">HasCallStack =&gt; OsPath -&gt; Eff es (Path Rel Dir)
OsPath -&gt; Eff es (Path Rel Dir)
forall (m :: * -&gt; *).
(HasCallStack, MonadThrow m) =&gt;
OsPath -&gt; m (Path Rel Dir)
</span><a href="file:///home/tommy/.local/state/cabal/store/ghc-9.10.1-0348/fs-utils-0.1-98c482801d5ef5925933b0f33e814691f8f0113763e0f5183e0d5b691f3f61e1/share/doc/html/src/FileSystem.Path.html/FileSystem.Path.html#parseRelDir"><span class="hs-identifier hs-var">Path.parseRelDir</span></a></span><span>
</span><span id="line-230"></span><span>        </span><span class="annot"><span class="annottext">OsPath
</span><a href="#local-6989586621679720889"><span class="hs-identifier hs-var">unknownDir</span></a></span><span>
</span><span id="line-231"></span><span>
</span><span id="line-232"></span><span class="hs-keyword">type</span><span> </span><span id="ChartInputs"><span class="annot"><a href="Pacer.Command.Chart.Params.html#ChartInputs"><span class="hs-identifier hs-var">ChartInputs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-233"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Tuple3</span></span><span>
</span><span id="line-234"></span><span>    </span><span class="hs-comment">-- chart-requests</span><span>
</span><span id="line-235"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Path</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Abs</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">File</span></span><span class="hs-special">)</span><span>
</span><span id="line-236"></span><span>    </span><span class="hs-comment">-- activity-labels</span><span>
</span><span id="line-237"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Path</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Abs</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">File</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-238"></span><span>    </span><span class="hs-comment">-- activity-paths</span><span>
</span><span id="line-239"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/n2pn8j7bicypyy4x21n1q3bp7xhvaibp-nonempty-containers-0.3.4.5-doc/share/doc/nonempty-containers-0.3.4.5/html/src/Data.Sequence.NonEmpty.Internal.html/Data.Sequence.NonEmpty.Internal.html#NESeq"><span class="hs-identifier hs-type">NESeq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Path</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Abs</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">File</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-240"></span><span>
</span><span id="line-241"></span><span class="annot"><a href="Pacer.Command.Chart.Params.html#getChartInputs"><span class="hs-identifier hs-type">getChartInputs</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-242"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679720372"><span class="annot"><a href="#local-6989586621679720372"><span class="hs-identifier hs-type">es</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-243"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HasCallStack</span></span><span class="hs-special">,</span><span>
</span><span id="line-244"></span><span>    </span><span class="annot"><a href="file:///home/tommy/.local/state/cabal/store/ghc-9.10.1-0348/logger-effectful-0.1-4c462c8d83799fc5c4900b79f30134a510b541d670854fe1dc3097beacce1d6c/share/doc/html/src/Effectful.Logger.Dynamic.html/Effectful.Logger.Dynamic.html#Logger"><span class="hs-identifier hs-type">Logger</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/1hak7cv0zdhl1xga54zmrx8mlz5ilw6q-effectful-core-2.5.1.0-doc/share/doc/effectful-core-2.5.1.0/html/src/Effectful.Internal.Effect.html/Effectful.Internal.Effect.html#%3A%3E"><span class="hs-operator hs-type">:&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720372"><span class="hs-identifier hs-type">es</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-245"></span><span>    </span><span class="annot"><a href="file:///home/tommy/.local/state/cabal/store/ghc-9.10.1-0348/logger-ns-effectful-0.1-ae2e630453229cbb00613472d13a57e996eac70db6fdcd6c66ce2f6fc739e434/share/doc/html/src/Effectful.LoggerNS.Static.html/Effectful.LoggerNS.Static.html#LoggerNS"><span class="hs-identifier hs-type">LoggerNS</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/1hak7cv0zdhl1xga54zmrx8mlz5ilw6q-effectful-core-2.5.1.0-doc/share/doc/effectful-core-2.5.1.0/html/src/Effectful.Internal.Effect.html/Effectful.Internal.Effect.html#%3A%3E"><span class="hs-operator hs-type">:&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720372"><span class="hs-identifier hs-type">es</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-246"></span><span>    </span><span class="annot"><a href="file:///home/tommy/.local/state/cabal/store/ghc-9.10.1-0348/fs-effectful-0.1-e36fc806e7c6a22475c146f14f54ce4000691b2d7fbb3fd2cec90d44aa064737/share/doc/html/src/Effectful.FileSystem.PathReader.Dynamic.html/Effectful.FileSystem.PathReader.Dynamic.html#PathReader"><span class="hs-identifier hs-type">PathReader</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/1hak7cv0zdhl1xga54zmrx8mlz5ilw6q-effectful-core-2.5.1.0-doc/share/doc/effectful-core-2.5.1.0/html/src/Effectful.Internal.Effect.html/Effectful.Internal.Effect.html#%3A%3E"><span class="hs-operator hs-type">:&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720372"><span class="hs-identifier hs-type">es</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-247"></span><span>    </span><span class="annot"><a href="file:///nix/store/1hak7cv0zdhl1xga54zmrx8mlz5ilw6q-effectful-core-2.5.1.0-doc/share/doc/effectful-core-2.5.1.0/html/src/Effectful.Reader.Static.html/Effectful.Reader.Static.html#Reader"><span class="hs-identifier hs-type">Reader</span></a></span><span> </span><span class="annot"><a href="Pacer.Configuration.Env.Types.html#LogEnv"><span class="hs-identifier hs-type">LogEnv</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/1hak7cv0zdhl1xga54zmrx8mlz5ilw6q-effectful-core-2.5.1.0-doc/share/doc/effectful-core-2.5.1.0/html/src/Effectful.Internal.Effect.html/Effectful.Internal.Effect.html#%3A%3E"><span class="hs-operator hs-type">:&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720372"><span class="hs-identifier hs-type">es</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-248"></span><span>    </span><span class="annot"><a href="file:///nix/store/1hak7cv0zdhl1xga54zmrx8mlz5ilw6q-effectful-core-2.5.1.0-doc/share/doc/effectful-core-2.5.1.0/html/src/Effectful.State.Static.Local.html/Effectful.State.Static.Local.html#State"><span class="hs-identifier hs-type">State</span></a></span><span> </span><span class="annot"><a href="Pacer.Configuration.Env.Types.html#CachedPaths"><span class="hs-identifier hs-type">CachedPaths</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/1hak7cv0zdhl1xga54zmrx8mlz5ilw6q-effectful-core-2.5.1.0-doc/share/doc/effectful-core-2.5.1.0/html/src/Effectful.Internal.Effect.html/Effectful.Internal.Effect.html#%3A%3E"><span class="hs-operator hs-type">:&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720372"><span class="hs-identifier hs-type">es</span></a></span><span>
</span><span id="line-249"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-250"></span><span>  </span><span class="annot"><a href="Pacer.Command.Chart.Params.html#ChartParamsArgs"><span class="hs-identifier hs-type">ChartParamsArgs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-251"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Pacer.Configuration.Config.html#ConfigWithPath"><span class="hs-identifier hs-type">ConfigWithPath</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-252"></span><span>  </span><span class="annot"><a href="file:///nix/store/1hak7cv0zdhl1xga54zmrx8mlz5ilw6q-effectful-core-2.5.1.0-doc/share/doc/effectful-core-2.5.1.0/html/src/Effectful.Internal.Monad.html/Effectful.Internal.Monad.html#Eff"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720372"><span class="hs-identifier hs-type">es</span></a></span><span> </span><span class="annot"><a href="Pacer.Command.Chart.Params.html#ChartInputs"><span class="hs-identifier hs-type">ChartInputs</span></a></span><span>
</span><span id="line-253"></span><span id="getChartInputs"><span class="annot"><span class="annottext">getChartInputs :: forall (es :: [Effect]).
(HasCallStack, Logger :&gt; es, LoggerNS :&gt; es, PathReader :&gt; es,
 Reader LogEnv :&gt; es, State CachedPaths :&gt; es) =&gt;
ChartParamsArgs -&gt; Maybe ConfigWithPath -&gt; Eff es ChartInputs
</span><a href="Pacer.Command.Chart.Params.html#getChartInputs"><span class="hs-identifier hs-var hs-var">getChartInputs</span></a></span></span><span> </span><span id="local-6989586621679721005"><span class="annot"><span class="annottext">ChartParamsArgs
</span><a href="#local-6989586621679721005"><span class="hs-identifier hs-var">params</span></a></span></span><span> </span><span id="local-6989586621679721006"><span class="annot"><span class="annottext">Maybe ConfigWithPath
</span><a href="#local-6989586621679721006"><span class="hs-identifier hs-var">mConfigWithPath</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-254"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Identity</span></span><span> </span><span id="local-6989586621679721007"><span class="annot"><span class="annottext">Path Abs File
</span><a href="#local-6989586621679721007"><span class="hs-identifier hs-var">chartRequestsPath</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-255"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) (es :: [Effect]).
(FromAlt f, HasCallStack, Logger :&gt; es, LoggerNS :&gt; es,
 PathReader :&gt; es, Reader LogEnv :&gt; es, State CachedPaths :&gt; es,
 Traversable f) =&gt;
ChartParamsArgs
-&gt; Maybe ConfigWithPath
-&gt; Text
-&gt; FileSearch
-&gt; f OsPath
-&gt; AffineTraversal' Config (f OsPath)
-&gt; Eff es (Alt1 f (Path Abs File))
</span><a href="Pacer.Command.Chart.Params.html#resolveRequiredChartInput"><span class="hs-identifier hs-var">resolveRequiredChartInput</span></a></span><span>
</span><span id="line-256"></span><span>      </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span>
</span><span id="line-257"></span><span>      </span><span class="annot"><span class="annottext">ChartParamsArgs
</span><a href="#local-6989586621679721005"><span class="hs-identifier hs-var">params</span></a></span><span>
</span><span id="line-258"></span><span>      </span><span class="annot"><span class="annottext">Maybe ConfigWithPath
</span><a href="#local-6989586621679721006"><span class="hs-identifier hs-var">mConfigWithPath</span></a></span><span>
</span><span id="line-259"></span><span>      </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;chart-requests&quot;</span></span><span>
</span><span id="line-260"></span><span>      </span><span class="annot"><span class="annottext">FileSearch
</span><a href="Pacer.Command.Chart.Params.html#chartRequestsSearch"><span class="hs-identifier hs-var">chartRequestsSearch</span></a></span><span>
</span><span id="line-261"></span><span>      </span><span class="annot"><span class="annottext">ChartParamsArgs
</span><a href="#local-6989586621679721005"><span class="hs-identifier hs-var">params</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">chartRequestsPath</span><span>
</span><span id="line-262"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Optic
  A_Lens NoIx Config Config (Maybe ChartConfig) (Maybe ChartConfig)
</span><span class="">#chartConfig</span></span><span> </span><span class="annot"><span class="annottext">Optic
  A_Lens NoIx Config Config (Maybe ChartConfig) (Maybe ChartConfig)
-&gt; Optic
     A_Lens NoIx ChartConfig ChartConfig (Maybe OsPath) (Maybe OsPath)
-&gt; AffineTraversal' Config (Maybe OsPath)
forall (is :: IxList) (js :: IxList) (ks :: IxList) k k' l m s t u
       v a b.
(AppendIndices is js ks, JoinKinds k A_Prism k',
 JoinKinds k' l m) =&gt;
Optic k is s t (Maybe u) (Maybe v)
-&gt; Optic l js u v a b -&gt; Optic m ks s t a b
</span><a href="file:///nix/store/nxp7m462ws2dz3sc7k7vzml10hs63r9x-optics-core-0.4.1.1-doc/share/doc/optics-core-0.4.1.1/html/src/Data.Maybe.Optics.html/Data.Maybe.Optics.html#%25%3F"><span class="hs-operator hs-var">%?</span></a></span><span> </span><span class="annot"><span class="annottext">Optic
  A_Lens NoIx ChartConfig ChartConfig (Maybe OsPath) (Maybe OsPath)
</span><span class="">#chartRequestsPath</span></span><span class="hs-special">)</span><span>
</span><span id="line-263"></span><span>
</span><span id="line-264"></span><span>  </span><span id="local-6989586621679721010"><span class="annot"><span class="annottext">NESeq (Path Abs File)
</span><a href="#local-6989586621679721010"><span class="hs-identifier hs-var">activityPaths</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-265"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) (es :: [Effect]).
(FromAlt f, HasCallStack, Logger :&gt; es, LoggerNS :&gt; es,
 PathReader :&gt; es, Reader LogEnv :&gt; es, State CachedPaths :&gt; es,
 Traversable f) =&gt;
ChartParamsArgs
-&gt; Maybe ConfigWithPath
-&gt; Text
-&gt; FileSearch
-&gt; f OsPath
-&gt; AffineTraversal' Config (f OsPath)
-&gt; Eff es (Alt1 f (Path Abs File))
</span><a href="Pacer.Command.Chart.Params.html#resolveRequiredChartInput"><span class="hs-identifier hs-var">resolveRequiredChartInput</span></a></span><span>
</span><span id="line-266"></span><span>      </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">Seq</span></span><span>
</span><span id="line-267"></span><span>      </span><span class="annot"><span class="annottext">ChartParamsArgs
</span><a href="#local-6989586621679721005"><span class="hs-identifier hs-var">params</span></a></span><span>
</span><span id="line-268"></span><span>      </span><span class="annot"><span class="annottext">Maybe ConfigWithPath
</span><a href="#local-6989586621679721006"><span class="hs-identifier hs-var">mConfigWithPath</span></a></span><span>
</span><span id="line-269"></span><span>      </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;activities&quot;</span></span><span>
</span><span id="line-270"></span><span>      </span><span class="annot"><span class="annottext">FileSearch
</span><a href="Pacer.Command.Chart.Params.html#activitiesSearch"><span class="hs-identifier hs-var">activitiesSearch</span></a></span><span>
</span><span id="line-271"></span><span>      </span><span class="annot"><span class="annottext">ChartParamsArgs
</span><a href="#local-6989586621679721005"><span class="hs-identifier hs-var">params</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">activityPaths</span><span>
</span><span id="line-272"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Optic
  A_Lens NoIx Config Config (Maybe ChartConfig) (Maybe ChartConfig)
</span><span class="">#chartConfig</span></span><span> </span><span class="annot"><span class="annottext">Optic
  A_Lens NoIx Config Config (Maybe ChartConfig) (Maybe ChartConfig)
-&gt; Optic
     A_Lens NoIx ChartConfig ChartConfig (Seq OsPath) (Seq OsPath)
-&gt; AffineTraversal' Config (Seq OsPath)
forall (is :: IxList) (js :: IxList) (ks :: IxList) k k' l m s t u
       v a b.
(AppendIndices is js ks, JoinKinds k A_Prism k',
 JoinKinds k' l m) =&gt;
Optic k is s t (Maybe u) (Maybe v)
-&gt; Optic l js u v a b -&gt; Optic m ks s t a b
</span><a href="file:///nix/store/nxp7m462ws2dz3sc7k7vzml10hs63r9x-optics-core-0.4.1.1-doc/share/doc/optics-core-0.4.1.1/html/src/Data.Maybe.Optics.html/Data.Maybe.Optics.html#%25%3F"><span class="hs-operator hs-var">%?</span></a></span><span> </span><span class="annot"><span class="annottext">Optic A_Lens NoIx ChartConfig ChartConfig (Seq OsPath) (Seq OsPath)
</span><span class="">#activityPaths</span></span><span class="hs-special">)</span><span>
</span><span id="line-273"></span><span>
</span><span id="line-274"></span><span>  </span><span id="local-6989586621679721012"><span class="annot"><span class="annottext">Maybe (Path Abs File)
</span><a href="#local-6989586621679721012"><span class="hs-identifier hs-var">activityLabelsPath</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-275"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) (es :: [Effect]).
(FromAlt f, HasCallStack, Logger :&gt; es, LoggerNS :&gt; es,
 PathReader :&gt; es, Reader LogEnv :&gt; es, State CachedPaths :&gt; es,
 Traversable f) =&gt;
ChartParamsArgs
-&gt; Maybe ConfigWithPath
-&gt; Text
-&gt; FileSearch
-&gt; f OsPath
-&gt; AffineTraversal' Config (f OsPath)
-&gt; Eff es (f (Path Abs File))
</span><a href="Pacer.Command.Chart.Params.html#resolveChartInput"><span class="hs-identifier hs-var">resolveChartInput</span></a></span><span>
</span><span id="line-276"></span><span>      </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span>
</span><span id="line-277"></span><span>      </span><span class="annot"><span class="annottext">ChartParamsArgs
</span><a href="#local-6989586621679721005"><span class="hs-identifier hs-var">params</span></a></span><span>
</span><span id="line-278"></span><span>      </span><span class="annot"><span class="annottext">Maybe ConfigWithPath
</span><a href="#local-6989586621679721006"><span class="hs-identifier hs-var">mConfigWithPath</span></a></span><span>
</span><span id="line-279"></span><span>      </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;activity-labels&quot;</span></span><span>
</span><span id="line-280"></span><span>      </span><span class="annot"><span class="annottext">FileSearch
</span><a href="Pacer.Command.Chart.Params.html#activityLabelsSearch"><span class="hs-identifier hs-var">activityLabelsSearch</span></a></span><span>
</span><span id="line-281"></span><span>      </span><span class="annot"><span class="annottext">ChartParamsArgs
</span><a href="#local-6989586621679721005"><span class="hs-identifier hs-var">params</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">activityLabelsPath</span><span>
</span><span id="line-282"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Optic
  A_Lens NoIx Config Config (Maybe ChartConfig) (Maybe ChartConfig)
</span><span class="">#chartConfig</span></span><span> </span><span class="annot"><span class="annottext">Optic
  A_Lens NoIx Config Config (Maybe ChartConfig) (Maybe ChartConfig)
-&gt; Optic
     A_Lens NoIx ChartConfig ChartConfig (Maybe OsPath) (Maybe OsPath)
-&gt; AffineTraversal' Config (Maybe OsPath)
forall (is :: IxList) (js :: IxList) (ks :: IxList) k k' l m s t u
       v a b.
(AppendIndices is js ks, JoinKinds k A_Prism k',
 JoinKinds k' l m) =&gt;
Optic k is s t (Maybe u) (Maybe v)
-&gt; Optic l js u v a b -&gt; Optic m ks s t a b
</span><a href="file:///nix/store/nxp7m462ws2dz3sc7k7vzml10hs63r9x-optics-core-0.4.1.1-doc/share/doc/optics-core-0.4.1.1/html/src/Data.Maybe.Optics.html/Data.Maybe.Optics.html#%25%3F"><span class="hs-operator hs-var">%?</span></a></span><span> </span><span class="annot"><span class="annottext">Optic
  A_Lens NoIx ChartConfig ChartConfig (Maybe OsPath) (Maybe OsPath)
</span><span class="">#activityLabelsPath</span></span><span class="hs-special">)</span><span>
</span><span id="line-283"></span><span>
</span><span id="line-284"></span><span>  </span><span class="hs-identifier">pure</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Path Abs File
</span><a href="#local-6989586621679721007"><span class="hs-identifier hs-var">chartRequestsPath</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe (Path Abs File)
</span><a href="#local-6989586621679721012"><span class="hs-identifier hs-var">activityLabelsPath</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NESeq (Path Abs File)
</span><a href="#local-6989586621679721010"><span class="hs-identifier hs-var">activityPaths</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-285"></span><span>
</span><span id="line-286"></span><span class="hs-comment">-- | Like 'resolveChartInput', except throws an exception if that path</span><span>
</span><span id="line-287"></span><span class="hs-comment">-- is not determined. Similarly, does not check actual file existence.</span><span>
</span><span id="line-288"></span><span class="annot"><a href="Pacer.Command.Chart.Params.html#resolveRequiredChartInput"><span class="hs-identifier hs-type">resolveRequiredChartInput</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-289"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679720450"><span class="annot"><a href="#local-6989586621679720450"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621679720451"><span class="annot"><a href="#local-6989586621679720451"><span class="hs-identifier hs-type">es</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-290"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Pacer.Class.FromAlt.html#FromAlt"><span class="hs-identifier hs-type">FromAlt</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720450"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-291"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">HasCallStack</span></span><span class="hs-special">,</span><span>
</span><span id="line-292"></span><span>    </span><span class="annot"><a href="file:///home/tommy/.local/state/cabal/store/ghc-9.10.1-0348/logger-effectful-0.1-4c462c8d83799fc5c4900b79f30134a510b541d670854fe1dc3097beacce1d6c/share/doc/html/src/Effectful.Logger.Dynamic.html/Effectful.Logger.Dynamic.html#Logger"><span class="hs-identifier hs-type">Logger</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/1hak7cv0zdhl1xga54zmrx8mlz5ilw6q-effectful-core-2.5.1.0-doc/share/doc/effectful-core-2.5.1.0/html/src/Effectful.Internal.Effect.html/Effectful.Internal.Effect.html#%3A%3E"><span class="hs-operator hs-type">:&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720451"><span class="hs-identifier hs-type">es</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-293"></span><span>    </span><span class="annot"><a href="file:///home/tommy/.local/state/cabal/store/ghc-9.10.1-0348/logger-ns-effectful-0.1-ae2e630453229cbb00613472d13a57e996eac70db6fdcd6c66ce2f6fc739e434/share/doc/html/src/Effectful.LoggerNS.Static.html/Effectful.LoggerNS.Static.html#LoggerNS"><span class="hs-identifier hs-type">LoggerNS</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/1hak7cv0zdhl1xga54zmrx8mlz5ilw6q-effectful-core-2.5.1.0-doc/share/doc/effectful-core-2.5.1.0/html/src/Effectful.Internal.Effect.html/Effectful.Internal.Effect.html#%3A%3E"><span class="hs-operator hs-type">:&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720451"><span class="hs-identifier hs-type">es</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-294"></span><span>    </span><span class="annot"><a href="file:///home/tommy/.local/state/cabal/store/ghc-9.10.1-0348/fs-effectful-0.1-e36fc806e7c6a22475c146f14f54ce4000691b2d7fbb3fd2cec90d44aa064737/share/doc/html/src/Effectful.FileSystem.PathReader.Dynamic.html/Effectful.FileSystem.PathReader.Dynamic.html#PathReader"><span class="hs-identifier hs-type">PathReader</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/1hak7cv0zdhl1xga54zmrx8mlz5ilw6q-effectful-core-2.5.1.0-doc/share/doc/effectful-core-2.5.1.0/html/src/Effectful.Internal.Effect.html/Effectful.Internal.Effect.html#%3A%3E"><span class="hs-operator hs-type">:&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720451"><span class="hs-identifier hs-type">es</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-295"></span><span>    </span><span class="annot"><a href="file:///nix/store/1hak7cv0zdhl1xga54zmrx8mlz5ilw6q-effectful-core-2.5.1.0-doc/share/doc/effectful-core-2.5.1.0/html/src/Effectful.Reader.Static.html/Effectful.Reader.Static.html#Reader"><span class="hs-identifier hs-type">Reader</span></a></span><span> </span><span class="annot"><a href="Pacer.Configuration.Env.Types.html#LogEnv"><span class="hs-identifier hs-type">LogEnv</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/1hak7cv0zdhl1xga54zmrx8mlz5ilw6q-effectful-core-2.5.1.0-doc/share/doc/effectful-core-2.5.1.0/html/src/Effectful.Internal.Effect.html/Effectful.Internal.Effect.html#%3A%3E"><span class="hs-operator hs-type">:&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720451"><span class="hs-identifier hs-type">es</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-296"></span><span>    </span><span class="annot"><a href="file:///nix/store/1hak7cv0zdhl1xga54zmrx8mlz5ilw6q-effectful-core-2.5.1.0-doc/share/doc/effectful-core-2.5.1.0/html/src/Effectful.State.Static.Local.html/Effectful.State.Static.Local.html#State"><span class="hs-identifier hs-type">State</span></a></span><span> </span><span class="annot"><a href="Pacer.Configuration.Env.Types.html#CachedPaths"><span class="hs-identifier hs-type">CachedPaths</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/1hak7cv0zdhl1xga54zmrx8mlz5ilw6q-effectful-core-2.5.1.0-doc/share/doc/effectful-core-2.5.1.0/html/src/Effectful.Internal.Effect.html/Effectful.Internal.Effect.html#%3A%3E"><span class="hs-operator hs-type">:&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720451"><span class="hs-identifier hs-type">es</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-297"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Traversable</span></span><span> </span><span class="annot"><a href="#local-6989586621679720450"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-298"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-299"></span><span>  </span><span class="annot"><a href="Pacer.Command.Chart.Params.html#ChartParamsArgs"><span class="hs-identifier hs-type">ChartParamsArgs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-300"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Pacer.Configuration.Config.html#ConfigWithPath"><span class="hs-identifier hs-type">ConfigWithPath</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-301"></span><span>  </span><span class="hs-comment">-- Text description</span><span>
</span><span id="line-302"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-303"></span><span>  </span><span class="hs-comment">-- Expected file_name(s) e.g. activities file</span><span>
</span><span id="line-304"></span><span>  </span><span class="annot"><a href="Pacer.Utils.FileSearch.html#FileSearch"><span class="hs-identifier hs-type">FileSearch</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-305"></span><span>  </span><span class="hs-comment">-- Maybe file.</span><span>
</span><span id="line-306"></span><span>  </span><span class="annot"><a href="#local-6989586621679720450"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">OsPath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-307"></span><span>  </span><span class="hs-comment">-- Config selector.</span><span>
</span><span id="line-308"></span><span>  </span><span class="annot"><a href="file:///nix/store/nxp7m462ws2dz3sc7k7vzml10hs63r9x-optics-core-0.4.1.1-doc/share/doc/optics-core-0.4.1.1/html/src/Optics.AffineTraversal.html/Optics.AffineTraversal.html#AffineTraversal%27"><span class="hs-identifier hs-type">AffineTraversal'</span></a></span><span> </span><span class="annot"><a href="Pacer.Configuration.Config.html#Config"><span class="hs-identifier hs-type">Config</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679720450"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">OsPath</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-309"></span><span>  </span><span class="hs-comment">-- Returned path.</span><span>
</span><span id="line-310"></span><span>  </span><span class="annot"><a href="file:///nix/store/1hak7cv0zdhl1xga54zmrx8mlz5ilw6q-effectful-core-2.5.1.0-doc/share/doc/effectful-core-2.5.1.0/html/src/Effectful.Internal.Monad.html/Effectful.Internal.Monad.html#Eff"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720451"><span class="hs-identifier hs-type">es</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Pacer.Class.FromAlt.html#Alt1"><span class="hs-identifier hs-type">Alt1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720450"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Path</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Abs</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">File</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-311"></span><span id="resolveRequiredChartInput"><span class="annot"><span class="annottext">resolveRequiredChartInput :: forall (f :: * -&gt; *) (es :: [Effect]).
(FromAlt f, HasCallStack, Logger :&gt; es, LoggerNS :&gt; es,
 PathReader :&gt; es, Reader LogEnv :&gt; es, State CachedPaths :&gt; es,
 Traversable f) =&gt;
ChartParamsArgs
-&gt; Maybe ConfigWithPath
-&gt; Text
-&gt; FileSearch
-&gt; f OsPath
-&gt; AffineTraversal' Config (f OsPath)
-&gt; Eff es (Alt1 f (Path Abs File))
</span><a href="Pacer.Command.Chart.Params.html#resolveRequiredChartInput"><span class="hs-identifier hs-var hs-var">resolveRequiredChartInput</span></a></span></span><span> </span><span id="local-6989586621679721038"><span class="annot"><span class="annottext">ChartParamsArgs
</span><a href="#local-6989586621679721038"><span class="hs-identifier hs-var">params</span></a></span></span><span> </span><span id="local-6989586621679721039"><span class="annot"><span class="annottext">Maybe ConfigWithPath
</span><a href="#local-6989586621679721039"><span class="hs-identifier hs-var">mConfigWithPath</span></a></span></span><span> </span><span id="local-6989586621679721040"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679721040"><span class="hs-identifier hs-var">desc</span></a></span></span><span> </span><span id="local-6989586621679721041"><span class="annot"><span class="annottext">FileSearch
</span><a href="#local-6989586621679721041"><span class="hs-identifier hs-var">fileNames</span></a></span></span><span> </span><span id="local-6989586621679721042"><span class="annot"><span class="annottext">f OsPath
</span><a href="#local-6989586621679721042"><span class="hs-identifier hs-var">mInputOsPath</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-312"></span><span>  </span><span class="annot"><span class="annottext">AffineTraversal' Config (f OsPath) -&gt; Eff es (f (Path Abs File))
</span><a href="#local-6989586621679721043"><span class="hs-identifier hs-var">resolveChartInput'</span></a></span><span> </span><span class="annot"><span class="annottext">(AffineTraversal' Config (f OsPath) -&gt; Eff es (f (Path Abs File)))
-&gt; (f (Path Abs File) -&gt; Eff es (Alt1 f (Path Abs File)))
-&gt; AffineTraversal' Config (f OsPath)
-&gt; Eff es (Alt1 f (Path Abs File))
forall (m :: * -&gt; *) a b c.
Monad m =&gt;
(a -&gt; m b) -&gt; (b -&gt; m c) -&gt; a -&gt; m c
</span><span class="hs-operator hs-var">&gt;=&gt;</span></span><span> </span><span class="annot"><span class="annottext">f (Path Abs File) -&gt; Eff es (Alt1 f (Path Abs File))
</span><a href="#local-6989586621679721045"><span class="hs-identifier hs-var">throwIfMissing'</span></a></span><span>
</span><span id="line-313"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-314"></span><span>    </span><span id="local-6989586621679721043"><span class="annot"><span class="annottext">resolveChartInput' :: AffineTraversal' Config (f OsPath) -&gt; Eff es (f (Path Abs File))
</span><a href="#local-6989586621679721043"><span class="hs-identifier hs-var hs-var">resolveChartInput'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-315"></span><span>      </span><span class="annot"><span class="annottext">ChartParamsArgs
-&gt; Maybe ConfigWithPath
-&gt; Text
-&gt; FileSearch
-&gt; f OsPath
-&gt; AffineTraversal' Config (f OsPath)
-&gt; Eff es (f (Path Abs File))
forall (f :: * -&gt; *) (es :: [Effect]).
(FromAlt f, HasCallStack, Logger :&gt; es, LoggerNS :&gt; es,
 PathReader :&gt; es, Reader LogEnv :&gt; es, State CachedPaths :&gt; es,
 Traversable f) =&gt;
ChartParamsArgs
-&gt; Maybe ConfigWithPath
-&gt; Text
-&gt; FileSearch
-&gt; f OsPath
-&gt; AffineTraversal' Config (f OsPath)
-&gt; Eff es (f (Path Abs File))
</span><a href="Pacer.Command.Chart.Params.html#resolveChartInput"><span class="hs-identifier hs-var">resolveChartInput</span></a></span><span> </span><span class="annot"><span class="annottext">ChartParamsArgs
</span><a href="#local-6989586621679721038"><span class="hs-identifier hs-var">params</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ConfigWithPath
</span><a href="#local-6989586621679721039"><span class="hs-identifier hs-var">mConfigWithPath</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679721040"><span class="hs-identifier hs-var">desc</span></a></span><span> </span><span class="annot"><span class="annottext">FileSearch
</span><a href="#local-6989586621679721041"><span class="hs-identifier hs-var">fileNames</span></a></span><span> </span><span class="annot"><span class="annottext">f OsPath
</span><a href="#local-6989586621679721042"><span class="hs-identifier hs-var">mInputOsPath</span></a></span><span>
</span><span id="line-316"></span><span>    </span><span id="local-6989586621679721045"><span class="annot"><span class="annottext">throwIfMissing' :: f (Path Abs File) -&gt; Eff es (Alt1 f (Path Abs File))
</span><a href="#local-6989586621679721045"><span class="hs-identifier hs-var hs-var">throwIfMissing'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ChartParamsArgs
-&gt; Maybe ConfigWithPath
-&gt; FileSearch
-&gt; f (Path Abs File)
-&gt; Eff es (Alt1 f (Path Abs File))
forall (f :: * -&gt; *) (es :: [Effect]) a.
(FromAlt f, HasCallStack, PathReader :&gt; es,
 State CachedPaths :&gt; es) =&gt;
ChartParamsArgs
-&gt; Maybe ConfigWithPath -&gt; FileSearch -&gt; f a -&gt; Eff es (Alt1 f a)
</span><a href="Pacer.Command.Chart.Params.html#throwIfMissing"><span class="hs-identifier hs-var">throwIfMissing</span></a></span><span> </span><span class="annot"><span class="annottext">ChartParamsArgs
</span><a href="#local-6989586621679721038"><span class="hs-identifier hs-var">params</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ConfigWithPath
</span><a href="#local-6989586621679721039"><span class="hs-identifier hs-var">mConfigWithPath</span></a></span><span> </span><span class="annot"><span class="annottext">FileSearch
</span><a href="#local-6989586621679721041"><span class="hs-identifier hs-var">fileNames</span></a></span><span>
</span><span id="line-317"></span><span>
</span><span id="line-318"></span><span class="hs-comment">-- | Uses CLI, (possible) Config, and XDG to resolve a chart input path. Note</span><span>
</span><span id="line-319"></span><span class="hs-comment">-- that this does _NOT_ guarantee that the path actually exists. This merely</span><span>
</span><span id="line-320"></span><span class="hs-comment">-- reduces the entire configuration into the path(s) to be used. For</span><span>
</span><span id="line-321"></span><span class="hs-comment">-- instance, if the user supplies a path on the CLI config, resolveChartInput</span><span>
</span><span id="line-322"></span><span class="hs-comment">-- will return that path (without checking existence) as the CLI has the</span><span>
</span><span id="line-323"></span><span class="hs-comment">-- highest priority.</span><span>
</span><span id="line-324"></span><span class="hs-comment">--</span><span>
</span><span id="line-325"></span><span class="hs-comment">-- The 'FromAlt' / 'Traversable' instances allow us to be polymorphic over</span><span>
</span><span id="line-326"></span><span class="hs-comment">-- multiplicity. For instance, we want at most one file for chart-requests,</span><span>
</span><span id="line-327"></span><span class="hs-comment">-- so f is specialized to 'Maybe'. On the other hand, activities allows multiple</span><span>
</span><span id="line-328"></span><span class="hs-comment">-- files (e.g. activities.json and activities.csv), so f is 'List'.</span><span>
</span><span id="line-329"></span><span class="hs-comment">--</span><span>
</span><span id="line-330"></span><span class="hs-comment">-- Returns 'empty' (per 'Alternative') if no explicit paths were given and</span><span>
</span><span id="line-331"></span><span class="hs-comment">-- we do not find any &quot;expected&quot; paths as a fallback.</span><span>
</span><span id="line-332"></span><span class="annot"><a href="Pacer.Command.Chart.Params.html#resolveChartInput"><span class="hs-identifier hs-type">resolveChartInput</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-333"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679720452"><span class="annot"><a href="#local-6989586621679720452"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621679720453"><span class="annot"><a href="#local-6989586621679720453"><span class="hs-identifier hs-type">es</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-334"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Pacer.Class.FromAlt.html#FromAlt"><span class="hs-identifier hs-type">FromAlt</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720452"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-335"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">HasCallStack</span></span><span class="hs-special">,</span><span>
</span><span id="line-336"></span><span>    </span><span class="annot"><a href="file:///home/tommy/.local/state/cabal/store/ghc-9.10.1-0348/logger-effectful-0.1-4c462c8d83799fc5c4900b79f30134a510b541d670854fe1dc3097beacce1d6c/share/doc/html/src/Effectful.Logger.Dynamic.html/Effectful.Logger.Dynamic.html#Logger"><span class="hs-identifier hs-type">Logger</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/1hak7cv0zdhl1xga54zmrx8mlz5ilw6q-effectful-core-2.5.1.0-doc/share/doc/effectful-core-2.5.1.0/html/src/Effectful.Internal.Effect.html/Effectful.Internal.Effect.html#%3A%3E"><span class="hs-operator hs-type">:&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720453"><span class="hs-identifier hs-type">es</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-337"></span><span>    </span><span class="annot"><a href="file:///home/tommy/.local/state/cabal/store/ghc-9.10.1-0348/logger-ns-effectful-0.1-ae2e630453229cbb00613472d13a57e996eac70db6fdcd6c66ce2f6fc739e434/share/doc/html/src/Effectful.LoggerNS.Static.html/Effectful.LoggerNS.Static.html#LoggerNS"><span class="hs-identifier hs-type">LoggerNS</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/1hak7cv0zdhl1xga54zmrx8mlz5ilw6q-effectful-core-2.5.1.0-doc/share/doc/effectful-core-2.5.1.0/html/src/Effectful.Internal.Effect.html/Effectful.Internal.Effect.html#%3A%3E"><span class="hs-operator hs-type">:&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720453"><span class="hs-identifier hs-type">es</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-338"></span><span>    </span><span class="annot"><a href="file:///home/tommy/.local/state/cabal/store/ghc-9.10.1-0348/fs-effectful-0.1-e36fc806e7c6a22475c146f14f54ce4000691b2d7fbb3fd2cec90d44aa064737/share/doc/html/src/Effectful.FileSystem.PathReader.Dynamic.html/Effectful.FileSystem.PathReader.Dynamic.html#PathReader"><span class="hs-identifier hs-type">PathReader</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/1hak7cv0zdhl1xga54zmrx8mlz5ilw6q-effectful-core-2.5.1.0-doc/share/doc/effectful-core-2.5.1.0/html/src/Effectful.Internal.Effect.html/Effectful.Internal.Effect.html#%3A%3E"><span class="hs-operator hs-type">:&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720453"><span class="hs-identifier hs-type">es</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-339"></span><span>    </span><span class="annot"><a href="file:///nix/store/1hak7cv0zdhl1xga54zmrx8mlz5ilw6q-effectful-core-2.5.1.0-doc/share/doc/effectful-core-2.5.1.0/html/src/Effectful.Reader.Static.html/Effectful.Reader.Static.html#Reader"><span class="hs-identifier hs-type">Reader</span></a></span><span> </span><span class="annot"><a href="Pacer.Configuration.Env.Types.html#LogEnv"><span class="hs-identifier hs-type">LogEnv</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/1hak7cv0zdhl1xga54zmrx8mlz5ilw6q-effectful-core-2.5.1.0-doc/share/doc/effectful-core-2.5.1.0/html/src/Effectful.Internal.Effect.html/Effectful.Internal.Effect.html#%3A%3E"><span class="hs-operator hs-type">:&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720453"><span class="hs-identifier hs-type">es</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-340"></span><span>    </span><span class="annot"><a href="file:///nix/store/1hak7cv0zdhl1xga54zmrx8mlz5ilw6q-effectful-core-2.5.1.0-doc/share/doc/effectful-core-2.5.1.0/html/src/Effectful.State.Static.Local.html/Effectful.State.Static.Local.html#State"><span class="hs-identifier hs-type">State</span></a></span><span> </span><span class="annot"><a href="Pacer.Configuration.Env.Types.html#CachedPaths"><span class="hs-identifier hs-type">CachedPaths</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/1hak7cv0zdhl1xga54zmrx8mlz5ilw6q-effectful-core-2.5.1.0-doc/share/doc/effectful-core-2.5.1.0/html/src/Effectful.Internal.Effect.html/Effectful.Internal.Effect.html#%3A%3E"><span class="hs-operator hs-type">:&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720453"><span class="hs-identifier hs-type">es</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-341"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Traversable</span></span><span> </span><span class="annot"><a href="#local-6989586621679720452"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-342"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-343"></span><span>  </span><span class="annot"><a href="Pacer.Command.Chart.Params.html#ChartParamsArgs"><span class="hs-identifier hs-type">ChartParamsArgs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-344"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Pacer.Configuration.Config.html#ConfigWithPath"><span class="hs-identifier hs-type">ConfigWithPath</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-345"></span><span>  </span><span class="hs-comment">-- Text description</span><span>
</span><span id="line-346"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-347"></span><span>  </span><span class="hs-comment">-- Expected file_name(s) e.g. activities file(s)</span><span>
</span><span id="line-348"></span><span>  </span><span class="annot"><a href="Pacer.Utils.FileSearch.html#FileSearch"><span class="hs-identifier hs-type">FileSearch</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-349"></span><span>  </span><span class="hs-comment">-- Maybe file.</span><span>
</span><span id="line-350"></span><span>  </span><span class="annot"><a href="#local-6989586621679720452"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">OsPath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-351"></span><span>  </span><span class="hs-comment">-- Config selector.</span><span>
</span><span id="line-352"></span><span>  </span><span class="annot"><a href="file:///nix/store/nxp7m462ws2dz3sc7k7vzml10hs63r9x-optics-core-0.4.1.1-doc/share/doc/optics-core-0.4.1.1/html/src/Optics.AffineTraversal.html/Optics.AffineTraversal.html#AffineTraversal%27"><span class="hs-identifier hs-type">AffineTraversal'</span></a></span><span> </span><span class="annot"><a href="Pacer.Configuration.Config.html#Config"><span class="hs-identifier hs-type">Config</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679720452"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">OsPath</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-353"></span><span>  </span><span class="hs-comment">-- Path, if we were given one or found an expected one.</span><span>
</span><span id="line-354"></span><span>  </span><span class="annot"><a href="file:///nix/store/1hak7cv0zdhl1xga54zmrx8mlz5ilw6q-effectful-core-2.5.1.0-doc/share/doc/effectful-core-2.5.1.0/html/src/Effectful.Internal.Monad.html/Effectful.Internal.Monad.html#Eff"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720453"><span class="hs-identifier hs-type">es</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679720452"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Path</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Abs</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">File</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-355"></span><span id="resolveChartInput"><span class="annot"><span class="annottext">resolveChartInput :: forall (f :: * -&gt; *) (es :: [Effect]).
(FromAlt f, HasCallStack, Logger :&gt; es, LoggerNS :&gt; es,
 PathReader :&gt; es, Reader LogEnv :&gt; es, State CachedPaths :&gt; es,
 Traversable f) =&gt;
ChartParamsArgs
-&gt; Maybe ConfigWithPath
-&gt; Text
-&gt; FileSearch
-&gt; f OsPath
-&gt; AffineTraversal' Config (f OsPath)
-&gt; Eff es (f (Path Abs File))
</span><a href="Pacer.Command.Chart.Params.html#resolveChartInput"><span class="hs-identifier hs-var hs-var">resolveChartInput</span></a></span></span><span> </span><span id="local-6989586621679721097"><span class="annot"><span class="annottext">ChartParamsArgs
</span><a href="#local-6989586621679721097"><span class="hs-identifier hs-var">params</span></a></span></span><span> </span><span id="local-6989586621679721098"><span class="annot"><span class="annottext">Maybe ConfigWithPath
</span><a href="#local-6989586621679721098"><span class="hs-identifier hs-var">mConfigWithPath</span></a></span></span><span> </span><span id="local-6989586621679721099"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679721099"><span class="hs-identifier hs-var">desc</span></a></span></span><span> </span><span id="local-6989586621679721100"><span class="annot"><span class="annottext">FileSearch
</span><a href="#local-6989586621679721100"><span class="hs-identifier hs-var">fileNames</span></a></span></span><span> </span><span id="local-6989586621679721101"><span class="annot"><span class="annottext">f OsPath
</span><a href="#local-6989586621679721101"><span class="hs-identifier hs-var">mInputOsPath</span></a></span></span><span> </span><span id="local-6989586621679721102"><span class="annot"><span class="annottext">AffineTraversal' Config (f OsPath)
</span><a href="#local-6989586621679721102"><span class="hs-identifier hs-var">configSel</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-356"></span><span>  </span><span class="hs-comment">-- When resolving a particular chart path, we try, in order:</span><span>
</span><span id="line-357"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-358"></span><span>  </span><span class="hs-comment">-- 1. Cli file paths e.g. --chart-requests.</span><span>
</span><span id="line-359"></span><span>  </span><span class="hs-comment">-- 2. Cli dir e.g. --data</span><span>
</span><span id="line-360"></span><span>  </span><span class="hs-comment">-- 3. Config path.</span><span>
</span><span id="line-361"></span><span>  </span><span class="hs-comment">-- 4. Current directory.</span><span>
</span><span id="line-362"></span><span>  </span><span class="hs-comment">-- 5. Xdg dir.</span><span>
</span><span id="line-363"></span><span>  </span><span class="annot"><span class="annottext">Text
-&gt; FileSearch
-&gt; [FileSearchStrategy f es]
-&gt; Eff es (f (Path Abs File))
forall (f :: * -&gt; *) (es :: [Effect]).
(FromAlt f, HasCallStack, LoggerNS :&gt; es) =&gt;
Text
-&gt; FileSearch
-&gt; [FileSearchStrategy f es]
-&gt; Eff es (f (Path Abs File))
</span><a href="Pacer.Utils.FileSearch.html#resolveFilePath"><span class="hs-identifier hs-var">Utils.FileSearch.resolveFilePath</span></a></span><span>
</span><span id="line-364"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679721099"><span class="hs-identifier hs-var">desc</span></a></span><span>
</span><span id="line-365"></span><span>    </span><span class="annot"><span class="annottext">FileSearch
</span><a href="#local-6989586621679721100"><span class="hs-identifier hs-var">fileNames</span></a></span><span>
</span><span id="line-366"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">f OsPath -&gt; FileSearchStrategy f es
forall (f :: * -&gt; *) (es :: [Effect]).
(HasCallStack, PathReader :&gt; es, Traversable f) =&gt;
f OsPath -&gt; FileSearchStrategy f es
</span><a href="Pacer.Utils.FileSearch.html#findFilePath"><span class="hs-identifier hs-var">Utils.FileSearch.findFilePath</span></a></span><span> </span><span class="annot"><span class="annottext">f OsPath
</span><a href="#local-6989586621679721101"><span class="hs-identifier hs-var">mInputOsPath</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-367"></span><span>      </span><span class="annot"><span class="annottext">Maybe OsPath -&gt; FileSearchStrategy f es
forall (f :: * -&gt; *) (es :: [Effect]).
(FromAlt f, HasCallStack, Logger :&gt; es, LoggerNS :&gt; es,
 PathReader :&gt; es, Reader LogEnv :&gt; es) =&gt;
Maybe OsPath -&gt; FileSearchStrategy f es
</span><a href="Pacer.Utils.FileSearch.html#findDirectoryPath"><span class="hs-identifier hs-var">Utils.FileSearch.findDirectoryPath</span></a></span><span> </span><span class="annot"><span class="annottext">ChartParamsArgs
</span><a href="#local-6989586621679721097"><span class="hs-identifier hs-var">params</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">dataDir</span><span class="hs-special">,</span><span>
</span><span id="line-368"></span><span>      </span><span class="annot"><span class="annottext">AffineTraversal' Config (f OsPath)
-&gt; Maybe ConfigWithPath -&gt; FileSearchStrategy f es
forall (f :: * -&gt; *) (es :: [Effect]).
(FromAlt f, HasCallStack, Logger :&gt; es, LoggerNS :&gt; es,
 PathReader :&gt; es, Reader LogEnv :&gt; es, Traversable f) =&gt;
AffineTraversal' Config (f OsPath)
-&gt; Maybe ConfigWithPath -&gt; FileSearchStrategy f es
</span><a href="Pacer.Command.Chart.Params.html#findConfigPath"><span class="hs-identifier hs-var">findConfigPath</span></a></span><span> </span><span class="annot"><span class="annottext">AffineTraversal' Config (f OsPath)
</span><a href="#local-6989586621679721102"><span class="hs-identifier hs-var">configSel</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ConfigWithPath
</span><a href="#local-6989586621679721098"><span class="hs-identifier hs-var">mConfigWithPath</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-369"></span><span>      </span><span class="annot"><span class="annottext">Item [FileSearchStrategy f es]
FileSearchStrategy f es
forall (f :: * -&gt; *) (es :: [Effect]).
(FromAlt f, HasCallStack, Logger :&gt; es, LoggerNS :&gt; es,
 PathReader :&gt; es, Reader LogEnv :&gt; es, State CachedPaths :&gt; es) =&gt;
FileSearchStrategy f es
</span><a href="Pacer.Utils.FileSearch.html#findCurrentDirectoryPath"><span class="hs-identifier hs-var">Utils.FileSearch.findCurrentDirectoryPath</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-370"></span><span>      </span><span class="annot"><span class="annottext">Item [FileSearchStrategy f es]
FileSearchStrategy f es
forall (f :: * -&gt; *) (es :: [Effect]).
(FromAlt f, HasCallStack, Logger :&gt; es, LoggerNS :&gt; es,
 PathReader :&gt; es, Reader LogEnv :&gt; es, State CachedPaths :&gt; es) =&gt;
FileSearchStrategy f es
</span><a href="Pacer.Utils.FileSearch.html#findXdgPath"><span class="hs-identifier hs-var">Utils.FileSearch.findXdgPath</span></a></span><span>
</span><span id="line-371"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-372"></span><span>
</span><span id="line-373"></span><span class="annot"><a href="Pacer.Command.Chart.Params.html#findConfigPath"><span class="hs-identifier hs-type">findConfigPath</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-374"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679720472"><span class="annot"><a href="#local-6989586621679720472"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621679720473"><span class="annot"><a href="#local-6989586621679720473"><span class="hs-identifier hs-type">es</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-375"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Pacer.Class.FromAlt.html#FromAlt"><span class="hs-identifier hs-type">FromAlt</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720472"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-376"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">HasCallStack</span></span><span class="hs-special">,</span><span>
</span><span id="line-377"></span><span>    </span><span class="annot"><a href="file:///home/tommy/.local/state/cabal/store/ghc-9.10.1-0348/logger-effectful-0.1-4c462c8d83799fc5c4900b79f30134a510b541d670854fe1dc3097beacce1d6c/share/doc/html/src/Effectful.Logger.Dynamic.html/Effectful.Logger.Dynamic.html#Logger"><span class="hs-identifier hs-type">Logger</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/1hak7cv0zdhl1xga54zmrx8mlz5ilw6q-effectful-core-2.5.1.0-doc/share/doc/effectful-core-2.5.1.0/html/src/Effectful.Internal.Effect.html/Effectful.Internal.Effect.html#%3A%3E"><span class="hs-operator hs-type">:&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720473"><span class="hs-identifier hs-type">es</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-378"></span><span>    </span><span class="annot"><a href="file:///home/tommy/.local/state/cabal/store/ghc-9.10.1-0348/logger-ns-effectful-0.1-ae2e630453229cbb00613472d13a57e996eac70db6fdcd6c66ce2f6fc739e434/share/doc/html/src/Effectful.LoggerNS.Static.html/Effectful.LoggerNS.Static.html#LoggerNS"><span class="hs-identifier hs-type">LoggerNS</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/1hak7cv0zdhl1xga54zmrx8mlz5ilw6q-effectful-core-2.5.1.0-doc/share/doc/effectful-core-2.5.1.0/html/src/Effectful.Internal.Effect.html/Effectful.Internal.Effect.html#%3A%3E"><span class="hs-operator hs-type">:&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720473"><span class="hs-identifier hs-type">es</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-379"></span><span>    </span><span class="annot"><a href="file:///home/tommy/.local/state/cabal/store/ghc-9.10.1-0348/fs-effectful-0.1-e36fc806e7c6a22475c146f14f54ce4000691b2d7fbb3fd2cec90d44aa064737/share/doc/html/src/Effectful.FileSystem.PathReader.Dynamic.html/Effectful.FileSystem.PathReader.Dynamic.html#PathReader"><span class="hs-identifier hs-type">PathReader</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/1hak7cv0zdhl1xga54zmrx8mlz5ilw6q-effectful-core-2.5.1.0-doc/share/doc/effectful-core-2.5.1.0/html/src/Effectful.Internal.Effect.html/Effectful.Internal.Effect.html#%3A%3E"><span class="hs-operator hs-type">:&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720473"><span class="hs-identifier hs-type">es</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-380"></span><span>    </span><span class="annot"><a href="file:///nix/store/1hak7cv0zdhl1xga54zmrx8mlz5ilw6q-effectful-core-2.5.1.0-doc/share/doc/effectful-core-2.5.1.0/html/src/Effectful.Reader.Static.html/Effectful.Reader.Static.html#Reader"><span class="hs-identifier hs-type">Reader</span></a></span><span> </span><span class="annot"><a href="Pacer.Configuration.Env.Types.html#LogEnv"><span class="hs-identifier hs-type">LogEnv</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/1hak7cv0zdhl1xga54zmrx8mlz5ilw6q-effectful-core-2.5.1.0-doc/share/doc/effectful-core-2.5.1.0/html/src/Effectful.Internal.Effect.html/Effectful.Internal.Effect.html#%3A%3E"><span class="hs-operator hs-type">:&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720473"><span class="hs-identifier hs-type">es</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-381"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Traversable</span></span><span> </span><span class="annot"><a href="#local-6989586621679720472"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-382"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-383"></span><span>  </span><span class="annot"><span class="hs-comment">-- | Config selector.</span></span><span>
</span><span id="line-384"></span><span>  </span><span class="annot"><a href="file:///nix/store/nxp7m462ws2dz3sc7k7vzml10hs63r9x-optics-core-0.4.1.1-doc/share/doc/optics-core-0.4.1.1/html/src/Optics.AffineTraversal.html/Optics.AffineTraversal.html#AffineTraversal%27"><span class="hs-identifier hs-type">AffineTraversal'</span></a></span><span> </span><span class="annot"><a href="Pacer.Configuration.Config.html#Config"><span class="hs-identifier hs-type">Config</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679720472"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">OsPath</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-385"></span><span>  </span><span class="annot"><span class="hs-comment">-- | Maybe config.</span></span><span>
</span><span id="line-386"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Pacer.Configuration.Config.html#ConfigWithPath"><span class="hs-identifier hs-type">ConfigWithPath</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-387"></span><span>  </span><span class="annot"><a href="Pacer.Utils.FileSearch.html#FileSearchStrategy"><span class="hs-identifier hs-type">FileSearchStrategy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720472"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720473"><span class="hs-identifier hs-type">es</span></a></span><span>
</span><span id="line-388"></span><span class="hs-comment">-- 1. Config does not exist. Nothing to do, just return empty.</span><span>
</span><span id="line-389"></span><span id="findConfigPath"><span class="annot"><span class="annottext">findConfigPath :: forall (f :: * -&gt; *) (es :: [Effect]).
(FromAlt f, HasCallStack, Logger :&gt; es, LoggerNS :&gt; es,
 PathReader :&gt; es, Reader LogEnv :&gt; es, Traversable f) =&gt;
AffineTraversal' Config (f OsPath)
-&gt; Maybe ConfigWithPath -&gt; FileSearchStrategy f es
</span><a href="Pacer.Command.Chart.Params.html#findConfigPath"><span class="hs-identifier hs-var hs-var">findConfigPath</span></a></span></span><span> </span><span class="annot"><span class="annottext">AffineTraversal' Config (f OsPath)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Maybe ConfigWithPath
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FileSearchStrategy f es
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-390"></span><span class="hs-comment">-- 2. Config exists, check it.</span><span>
</span><span id="line-391"></span><span class="annot"><a href="Pacer.Command.Chart.Params.html#findConfigPath"><span class="hs-identifier hs-var">findConfigPath</span></a></span><span> </span><span id="local-6989586621679721199"><span class="annot"><span class="annottext">AffineTraversal' Config (f OsPath)
</span><a href="#local-6989586621679721199"><span class="hs-identifier hs-var">configSel</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679721200"><span class="annot"><span class="annottext">ConfigWithPath
</span><a href="#local-6989586621679721200"><span class="hs-identifier hs-var">configWithPath</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(FileSearch -&gt; Eff es (f (Path Abs File)))
-&gt; FileSearchStrategy f es
forall (f :: * -&gt; *) (es :: [Effect]).
(FileSearch -&gt; Eff es (f (Path Abs File)))
-&gt; FileSearchStrategy f es
</span><a href="Pacer.Utils.FileSearch.html#MkFileSearchStrategy"><span class="hs-identifier hs-var">MkFileSearchStrategy</span></a></span><span> </span><span class="annot"><span class="annottext">((FileSearch -&gt; Eff es (f (Path Abs File)))
 -&gt; FileSearchStrategy f es)
-&gt; (FileSearch -&gt; Eff es (f (Path Abs File)))
-&gt; FileSearchStrategy f es
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679721201"><span class="annot"><span class="annottext">FileSearch
</span><a href="#local-6989586621679721201"><span class="hs-identifier hs-var">fileNames</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-392"></span><span>  </span><span class="annot"><span class="annottext">Text -&gt; Eff es (f (Path Abs File)) -&gt; Eff es (f (Path Abs File))
forall (es :: [Effect]) a.
(HasCallStack, LoggerNS :&gt; es) =&gt;
Text -&gt; Eff es a -&gt; Eff es a
</span><a href="file:///home/tommy/.local/state/cabal/store/ghc-9.10.1-0348/logger-ns-effectful-0.1-ae2e630453229cbb00613472d13a57e996eac70db6fdcd6c66ce2f6fc739e434/share/doc/html/src/Effectful.LoggerNS.Static.html/Effectful.LoggerNS.Static.html#addNamespace"><span class="hs-identifier hs-var">addNamespace</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;findConfigPath&quot;</span></span><span> </span><span class="annot"><span class="annottext">(Eff es (f (Path Abs File)) -&gt; Eff es (f (Path Abs File)))
-&gt; Eff es (f (Path Abs File)) -&gt; Eff es (f (Path Abs File))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-393"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Optic' An_AffineTraversal NoIx ConfigWithPath (f OsPath)
-&gt; ConfigWithPath -&gt; Maybe (f OsPath)
forall k (is :: IxList) s a.
Is k An_AffineFold =&gt;
Optic' k is s a -&gt; s -&gt; Maybe a
</span><a href="file:///nix/store/nxp7m462ws2dz3sc7k7vzml10hs63r9x-optics-core-0.4.1.1-doc/share/doc/optics-core-0.4.1.1/html/src/Optics.AffineFold.html/Optics.AffineFold.html#preview"><span class="hs-identifier hs-var">preview</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Optic A_Lens NoIx ConfigWithPath ConfigWithPath Config Config
</span><span class="">#config</span></span><span> </span><span class="annot"><span class="annottext">Optic A_Lens NoIx ConfigWithPath ConfigWithPath Config Config
-&gt; AffineTraversal' Config (f OsPath)
-&gt; Optic' An_AffineTraversal NoIx ConfigWithPath (f OsPath)
forall k l m (is :: IxList) (js :: IxList) (ks :: IxList) s t u v a
       b.
(JoinKinds k l m, AppendIndices is js ks) =&gt;
Optic k is s t u v -&gt; Optic l js u v a b -&gt; Optic m ks s t a b
</span><a href="file:///nix/store/nxp7m462ws2dz3sc7k7vzml10hs63r9x-optics-core-0.4.1.1-doc/share/doc/optics-core-0.4.1.1/html/src/Optics.Internal.Optic.html/Optics.Internal.Optic.html#%25"><span class="hs-operator hs-var">%</span></a></span><span> </span><span class="annot"><span class="annottext">AffineTraversal' Config (f OsPath)
</span><a href="#local-6989586621679721199"><span class="hs-identifier hs-var">configSel</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ConfigWithPath
</span><a href="#local-6989586621679721200"><span class="hs-identifier hs-var">configWithPath</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-394"></span><span>      </span><span class="hs-comment">-- 2. Config.paths field exists.</span><span>
</span><span id="line-395"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679721203"><span class="annot"><span class="annottext">f OsPath
</span><a href="#local-6989586621679721203"><span class="hs-identifier hs-var">mPath</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-396"></span><span>        </span><span class="hs-comment">-- 2.1. Config.paths is non-empty, use it.</span><span>
</span><span id="line-397"></span><span>        </span><span class="hs-comment">-- 2.2. Config.paths exists but is empty, try config data dir.</span><span>
</span><span id="line-398"></span><span>        </span><span class="annot"><span class="annottext">f OsPath -&gt; Eff es (f (Path Abs File))
</span><a href="#local-6989586621679721204"><span class="hs-identifier hs-var">tryConfigPaths</span></a></span><span> </span><span class="annot"><span class="annottext">f OsPath
</span><a href="#local-6989586621679721203"><span class="hs-identifier hs-var">mPath</span></a></span><span> </span><span class="annot"><span class="annottext">Eff es (f (Path Abs File))
-&gt; Eff es (f (Path Abs File)) -&gt; Eff es (f (Path Abs File))
forall (m :: * -&gt; *) (f :: * -&gt; *) a.
(FromAlt f, Monad m) =&gt;
m (f a) -&gt; m (f a) -&gt; m (f a)
</span><a href="Pacer.Class.FromAlt.html#%3C%2B%3C%7C%3E%2B%3E"><span class="hs-operator hs-var">&lt;+&lt;|&gt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FileSearch -&gt; Eff es (f (Path Abs File))
</span><a href="#local-6989586621679721205"><span class="hs-identifier hs-var">tryConfigDataDir</span></a></span><span> </span><span class="annot"><span class="annottext">FileSearch
</span><a href="#local-6989586621679721201"><span class="hs-identifier hs-var">fileNames</span></a></span><span>
</span><span id="line-399"></span><span>      </span><span class="hs-comment">-- 3. Config.paths does not exist, try config data dir.</span><span>
</span><span id="line-400"></span><span>      </span><span class="annot"><span class="annottext">Maybe (f OsPath)
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FileSearch -&gt; Eff es (f (Path Abs File))
</span><a href="#local-6989586621679721205"><span class="hs-identifier hs-var">tryConfigDataDir</span></a></span><span> </span><span class="annot"><span class="annottext">FileSearch
</span><a href="#local-6989586621679721201"><span class="hs-identifier hs-var">fileNames</span></a></span><span>
</span><span id="line-401"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-402"></span><span>    </span><span class="annot"><a href="#local-6989586621679721206"><span class="hs-identifier hs-type">configDataSel</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/nxp7m462ws2dz3sc7k7vzml10hs63r9x-optics-core-0.4.1.1-doc/share/doc/optics-core-0.4.1.1/html/src/Optics.AffineTraversal.html/Optics.AffineTraversal.html#AffineTraversal%27"><span class="hs-identifier hs-type">AffineTraversal'</span></a></span><span> </span><span class="annot"><a href="Pacer.Configuration.Config.html#ConfigWithPath"><span class="hs-identifier hs-type">ConfigWithPath</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">OsPath</span></span><span>
</span><span id="line-403"></span><span>    </span><span id="local-6989586621679721206"><span class="annot"><span class="annottext">configDataSel :: Optic' An_AffineTraversal NoIx ConfigWithPath OsPath
</span><a href="#local-6989586621679721206"><span class="hs-identifier hs-var hs-var">configDataSel</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Optic A_Lens NoIx ConfigWithPath ConfigWithPath Config Config
</span><span class="">#config</span></span><span> </span><span class="annot"><span class="annottext">Optic A_Lens NoIx ConfigWithPath ConfigWithPath Config Config
-&gt; Optic
     A_Lens NoIx Config Config (Maybe ChartConfig) (Maybe ChartConfig)
-&gt; Optic
     A_Lens
     NoIx
     ConfigWithPath
     ConfigWithPath
     (Maybe ChartConfig)
     (Maybe ChartConfig)
forall k l m (is :: IxList) (js :: IxList) (ks :: IxList) s t u v a
       b.
(JoinKinds k l m, AppendIndices is js ks) =&gt;
Optic k is s t u v -&gt; Optic l js u v a b -&gt; Optic m ks s t a b
</span><a href="file:///nix/store/nxp7m462ws2dz3sc7k7vzml10hs63r9x-optics-core-0.4.1.1-doc/share/doc/optics-core-0.4.1.1/html/src/Optics.Internal.Optic.html/Optics.Internal.Optic.html#%25"><span class="hs-operator hs-var">%</span></a></span><span> </span><span class="annot"><span class="annottext">Optic
  A_Lens NoIx Config Config (Maybe ChartConfig) (Maybe ChartConfig)
</span><span class="">#chartConfig</span></span><span> </span><span class="annot"><span class="annottext">Optic
  A_Lens
  NoIx
  ConfigWithPath
  ConfigWithPath
  (Maybe ChartConfig)
  (Maybe ChartConfig)
-&gt; Optic
     A_Lens NoIx ChartConfig ChartConfig (Maybe OsPath) (Maybe OsPath)
-&gt; Optic
     An_AffineTraversal
     NoIx
     ConfigWithPath
     ConfigWithPath
     (Maybe OsPath)
     (Maybe OsPath)
forall (is :: IxList) (js :: IxList) (ks :: IxList) k k' l m s t u
       v a b.
(AppendIndices is js ks, JoinKinds k A_Prism k',
 JoinKinds k' l m) =&gt;
Optic k is s t (Maybe u) (Maybe v)
-&gt; Optic l js u v a b -&gt; Optic m ks s t a b
</span><a href="file:///nix/store/nxp7m462ws2dz3sc7k7vzml10hs63r9x-optics-core-0.4.1.1-doc/share/doc/optics-core-0.4.1.1/html/src/Data.Maybe.Optics.html/Data.Maybe.Optics.html#%25%3F"><span class="hs-operator hs-var">%?</span></a></span><span> </span><span class="annot"><span class="annottext">Optic
  A_Lens NoIx ChartConfig ChartConfig (Maybe OsPath) (Maybe OsPath)
</span><span class="">#dataDir</span></span><span> </span><span class="annot"><span class="annottext">Optic
  An_AffineTraversal
  NoIx
  ConfigWithPath
  ConfigWithPath
  (Maybe OsPath)
  (Maybe OsPath)
-&gt; Optic A_Prism NoIx (Maybe OsPath) (Maybe OsPath) OsPath OsPath
-&gt; Optic' An_AffineTraversal NoIx ConfigWithPath OsPath
forall k l m (is :: IxList) (js :: IxList) (ks :: IxList) s t u v a
       b.
(JoinKinds k l m, AppendIndices is js ks) =&gt;
Optic k is s t u v -&gt; Optic l js u v a b -&gt; Optic m ks s t a b
</span><a href="file:///nix/store/nxp7m462ws2dz3sc7k7vzml10hs63r9x-optics-core-0.4.1.1-doc/share/doc/optics-core-0.4.1.1/html/src/Optics.Internal.Optic.html/Optics.Internal.Optic.html#%25"><span class="hs-operator hs-var">%</span></a></span><span> </span><span class="annot"><span class="annottext">Optic A_Prism NoIx (Maybe OsPath) (Maybe OsPath) OsPath OsPath
forall a b. Prism (Maybe a) (Maybe b) a b
</span><a href="file:///nix/store/nxp7m462ws2dz3sc7k7vzml10hs63r9x-optics-core-0.4.1.1-doc/share/doc/optics-core-0.4.1.1/html/src/Data.Maybe.Optics.html/Data.Maybe.Optics.html#_Just"><span class="hs-identifier hs-var">_Just</span></a></span><span>
</span><span id="line-404"></span><span>
</span><span id="line-405"></span><span>    </span><span class="annot"><a href="#local-6989586621679721204"><span class="hs-identifier hs-type">tryConfigPaths</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679720472"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">OsPath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/1hak7cv0zdhl1xga54zmrx8mlz5ilw6q-effectful-core-2.5.1.0-doc/share/doc/effectful-core-2.5.1.0/html/src/Effectful.Internal.Monad.html/Effectful.Internal.Monad.html#Eff"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720473"><span class="hs-identifier hs-type">es</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679720472"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Path</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Abs</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">File</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-406"></span><span>    </span><span id="local-6989586621679721204"><span class="annot"><span class="annottext">tryConfigPaths :: f OsPath -&gt; Eff es (f (Path Abs File))
</span><a href="#local-6989586621679721204"><span class="hs-identifier hs-var hs-var">tryConfigPaths</span></a></span></span><span> </span><span id="local-6989586621679721207"><span class="annot"><span class="annottext">f OsPath
</span><a href="#local-6989586621679721207"><span class="hs-identifier hs-var">mPath</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-407"></span><span>      </span><span class="annot"><span class="annottext">f OsPath
-&gt; (OsPath -&gt; Eff es (Path Abs File)) -&gt; Eff es (f (Path Abs File))
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f (t b)
</span><span class="hs-identifier hs-var">for</span></span><span> </span><span class="annot"><span class="annottext">f OsPath
</span><a href="#local-6989586621679721207"><span class="hs-identifier hs-var">mPath</span></a></span><span>
</span><span id="line-408"></span><span>        </span><span class="annot"><span class="annottext">((OsPath -&gt; Eff es (Path Abs File)) -&gt; Eff es (f (Path Abs File)))
-&gt; (OsPath -&gt; Eff es (Path Abs File)) -&gt; Eff es (f (Path Abs File))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Maybe (OsPath -&gt; FileNotFoundE, OsPath -&gt; Eff es Bool)
-&gt; Path Abs Dir
-&gt; (HasCallStack =&gt; OsPath -&gt; Eff es (Path Abs File))
-&gt; (HasCallStack =&gt; OsPath -&gt; Eff es (Path Rel File))
-&gt; OsPath
-&gt; Eff es (Path Abs File)
forall e t (es :: [Effect]).
(Exception e, HasCallStack) =&gt;
Maybe (OsPath -&gt; e, OsPath -&gt; Eff es Bool)
-&gt; Path Abs Dir
-&gt; (HasCallStack =&gt; OsPath -&gt; Eff es (Path Abs t))
-&gt; (HasCallStack =&gt; OsPath -&gt; Eff es (Path Rel t))
-&gt; OsPath
-&gt; Eff es (Path Abs t)
</span><a href="Pacer.Command.Chart.Params.html#handleUnknownPath"><span class="hs-identifier hs-var">handleUnknownPath</span></a></span><span>
</span><span id="line-409"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(OsPath -&gt; FileNotFoundE, OsPath -&gt; Eff es Bool)
-&gt; Maybe (OsPath -&gt; FileNotFoundE, OsPath -&gt; Eff es Bool)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OsPath -&gt; FileNotFoundE
</span><a href="Pacer.Utils.FileSearch.html#MkFileNotFoundE"><span class="hs-identifier hs-var">MkFileNotFoundE</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">OsPath -&gt; Eff es Bool
forall (es :: [Effect]).
(HasCallStack, PathReader :&gt; es) =&gt;
OsPath -&gt; Eff es Bool
</span><a href="file:///home/tommy/.local/state/cabal/store/ghc-9.10.1-0348/fs-effectful-0.1-e36fc806e7c6a22475c146f14f54ce4000691b2d7fbb3fd2cec90d44aa064737/share/doc/html/src/Effectful.FileSystem.PathReader.Dynamic.html/Effectful.FileSystem.PathReader.Dynamic.html#doesFileExist"><span class="hs-identifier hs-var">PR.doesFileExist</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-410"></span><span>          </span><span class="annot"><span class="annottext">ConfigWithPath
</span><a href="#local-6989586621679721200"><span class="hs-identifier hs-var">configWithPath</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">dirPath</span><span>
</span><span id="line-411"></span><span>          </span><span class="annot"><span class="annottext">HasCallStack =&gt; OsPath -&gt; Eff es (Path Abs File)
OsPath -&gt; Eff es (Path Abs File)
forall (m :: * -&gt; *).
(HasCallStack, MonadThrow m) =&gt;
OsPath -&gt; m (Path Abs File)
</span><a href="file:///home/tommy/.local/state/cabal/store/ghc-9.10.1-0348/fs-utils-0.1-98c482801d5ef5925933b0f33e814691f8f0113763e0f5183e0d5b691f3f61e1/share/doc/html/src/FileSystem.Path.html/FileSystem.Path.html#parseAbsFile"><span class="hs-identifier hs-var">Path.parseAbsFile</span></a></span><span>
</span><span id="line-412"></span><span>          </span><span class="annot"><span class="annottext">HasCallStack =&gt; OsPath -&gt; Eff es (Path Rel File)
OsPath -&gt; Eff es (Path Rel File)
forall (m :: * -&gt; *).
(HasCallStack, MonadThrow m) =&gt;
OsPath -&gt; m (Path Rel File)
</span><a href="file:///home/tommy/.local/state/cabal/store/ghc-9.10.1-0348/fs-utils-0.1-98c482801d5ef5925933b0f33e814691f8f0113763e0f5183e0d5b691f3f61e1/share/doc/html/src/FileSystem.Path.html/FileSystem.Path.html#parseRelFile"><span class="hs-identifier hs-var">Path.parseRelFile</span></a></span><span>
</span><span id="line-413"></span><span>
</span><span id="line-414"></span><span>    </span><span id="local-6989586621679721205"><span class="annot"><span class="annottext">tryConfigDataDir :: FileSearch -&gt; Eff es (f (Path Abs File))
</span><a href="#local-6989586621679721205"><span class="hs-identifier hs-var hs-var">tryConfigDataDir</span></a></span></span><span> </span><span id="local-6989586621679721220"><span class="annot"><span class="annottext">FileSearch
</span><a href="#local-6989586621679721220"><span class="hs-identifier hs-var">fileNames</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Optic' An_AffineTraversal NoIx ConfigWithPath OsPath
-&gt; ConfigWithPath -&gt; Maybe OsPath
forall k (is :: IxList) s a.
Is k An_AffineFold =&gt;
Optic' k is s a -&gt; s -&gt; Maybe a
</span><a href="file:///nix/store/nxp7m462ws2dz3sc7k7vzml10hs63r9x-optics-core-0.4.1.1-doc/share/doc/optics-core-0.4.1.1/html/src/Optics.AffineFold.html/Optics.AffineFold.html#preview"><span class="hs-identifier hs-var">preview</span></a></span><span> </span><span class="annot"><span class="annottext">Optic' An_AffineTraversal NoIx ConfigWithPath OsPath
</span><a href="#local-6989586621679721206"><span class="hs-identifier hs-var">configDataSel</span></a></span><span> </span><span class="annot"><span class="annottext">ConfigWithPath
</span><a href="#local-6989586621679721200"><span class="hs-identifier hs-var">configWithPath</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-415"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679721221"><span class="annot"><span class="annottext">OsPath
</span><a href="#local-6989586621679721221"><span class="hs-identifier hs-var">dataDir</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-416"></span><span>        </span><span id="local-6989586621679721222"><span class="annot"><span class="annottext">Path Abs Dir
</span><a href="#local-6989586621679721222"><span class="hs-identifier hs-var">configDataDirPath</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-417"></span><span>          </span><span class="annot"><span class="annottext">Maybe (OsPath -&gt; DirNotFoundE, OsPath -&gt; Eff es Bool)
-&gt; Path Abs Dir
-&gt; (HasCallStack =&gt; OsPath -&gt; Eff es (Path Abs Dir))
-&gt; (HasCallStack =&gt; OsPath -&gt; Eff es (Path Rel Dir))
-&gt; OsPath
-&gt; Eff es (Path Abs Dir)
forall e t (es :: [Effect]).
(Exception e, HasCallStack) =&gt;
Maybe (OsPath -&gt; e, OsPath -&gt; Eff es Bool)
-&gt; Path Abs Dir
-&gt; (HasCallStack =&gt; OsPath -&gt; Eff es (Path Abs t))
-&gt; (HasCallStack =&gt; OsPath -&gt; Eff es (Path Rel t))
-&gt; OsPath
-&gt; Eff es (Path Abs t)
</span><a href="Pacer.Command.Chart.Params.html#handleUnknownPath"><span class="hs-identifier hs-var">handleUnknownPath</span></a></span><span>
</span><span id="line-418"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(OsPath -&gt; DirNotFoundE, OsPath -&gt; Eff es Bool)
-&gt; Maybe (OsPath -&gt; DirNotFoundE, OsPath -&gt; Eff es Bool)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OsPath -&gt; DirNotFoundE
</span><a href="Pacer.Utils.FileSearch.html#MkDirNotFoundE"><span class="hs-identifier hs-var">MkDirNotFoundE</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">OsPath -&gt; Eff es Bool
forall (es :: [Effect]).
(HasCallStack, PathReader :&gt; es) =&gt;
OsPath -&gt; Eff es Bool
</span><a href="file:///home/tommy/.local/state/cabal/store/ghc-9.10.1-0348/fs-effectful-0.1-e36fc806e7c6a22475c146f14f54ce4000691b2d7fbb3fd2cec90d44aa064737/share/doc/html/src/Effectful.FileSystem.PathReader.Dynamic.html/Effectful.FileSystem.PathReader.Dynamic.html#doesDirectoryExist"><span class="hs-identifier hs-var">PR.doesDirectoryExist</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-419"></span><span>            </span><span class="annot"><span class="annottext">ConfigWithPath
</span><a href="#local-6989586621679721200"><span class="hs-identifier hs-var">configWithPath</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">dirPath</span><span>
</span><span id="line-420"></span><span>            </span><span class="annot"><span class="annottext">HasCallStack =&gt; OsPath -&gt; Eff es (Path Abs Dir)
OsPath -&gt; Eff es (Path Abs Dir)
forall (m :: * -&gt; *).
(HasCallStack, MonadThrow m) =&gt;
OsPath -&gt; m (Path Abs Dir)
</span><a href="file:///home/tommy/.local/state/cabal/store/ghc-9.10.1-0348/fs-utils-0.1-98c482801d5ef5925933b0f33e814691f8f0113763e0f5183e0d5b691f3f61e1/share/doc/html/src/FileSystem.Path.html/FileSystem.Path.html#parseAbsDir"><span class="hs-identifier hs-var">Path.parseAbsDir</span></a></span><span>
</span><span id="line-421"></span><span>            </span><span class="annot"><span class="annottext">HasCallStack =&gt; OsPath -&gt; Eff es (Path Rel Dir)
OsPath -&gt; Eff es (Path Rel Dir)
forall (m :: * -&gt; *).
(HasCallStack, MonadThrow m) =&gt;
OsPath -&gt; m (Path Rel Dir)
</span><a href="file:///home/tommy/.local/state/cabal/store/ghc-9.10.1-0348/fs-utils-0.1-98c482801d5ef5925933b0f33e814691f8f0113763e0f5183e0d5b691f3f61e1/share/doc/html/src/FileSystem.Path.html/FileSystem.Path.html#parseRelDir"><span class="hs-identifier hs-var">Path.parseRelDir</span></a></span><span>
</span><span id="line-422"></span><span>            </span><span class="annot"><span class="annottext">OsPath
</span><a href="#local-6989586621679721221"><span class="hs-identifier hs-var">dataDir</span></a></span><span>
</span><span id="line-423"></span><span>        </span><span class="annot"><span class="annottext">FileSearch
-&gt; DirNotExistsStrategy
-&gt; Path Abs Dir
-&gt; Eff es (f (Path Abs File))
forall (f :: * -&gt; *) (es :: [Effect]).
(FromAlt f, HasCallStack, Logger :&gt; es, LoggerNS :&gt; es,
 PathReader :&gt; es, Reader LogEnv :&gt; es) =&gt;
FileSearch
-&gt; DirNotExistsStrategy
-&gt; Path Abs Dir
-&gt; Eff es (f (Path Abs File))
</span><a href="Pacer.Utils.FileSearch.html#directorySearch"><span class="hs-identifier hs-var">Utils.FileSearch.directorySearch</span></a></span><span> </span><span class="annot"><span class="annottext">FileSearch
</span><a href="#local-6989586621679721220"><span class="hs-identifier hs-var">fileNames</span></a></span><span> </span><span class="annot"><span class="annottext">DirNotExistsStrategy
</span><a href="Pacer.Utils.FileSearch.html#DirNotExistsFail"><span class="hs-identifier hs-var">DirNotExistsFail</span></a></span><span> </span><span class="annot"><span class="annottext">Path Abs Dir
</span><a href="#local-6989586621679721222"><span class="hs-identifier hs-var">configDataDirPath</span></a></span><span>
</span><span id="line-424"></span><span>      </span><span class="annot"><span class="annottext">Maybe OsPath
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">f (Path Abs File) -&gt; Eff es (f (Path Abs File))
forall a. a -&gt; Eff es a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">f (Path Abs File)
forall a. f a
forall (f :: * -&gt; *) a. Alternative f =&gt; f a
</span><span class="hs-identifier hs-var">empty</span></span><span>
</span><span id="line-425"></span><span>
</span><span id="line-426"></span><span class="annot"><a href="Pacer.Command.Chart.Params.html#chartRequestsSearch"><span class="hs-identifier hs-type">chartRequestsSearch</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Pacer.Utils.FileSearch.html#FileSearch"><span class="hs-identifier hs-type">FileSearch</span></a></span><span>
</span><span id="line-427"></span><span id="chartRequestsSearch"><span class="annot"><span class="annottext">chartRequestsSearch :: FileSearch
</span><a href="Pacer.Command.Chart.Params.html#chartRequestsSearch"><span class="hs-identifier hs-var hs-var">chartRequestsSearch</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-428"></span><span>  </span><span class="annot"><span class="annottext">FileAliases -&gt; FileSearch
</span><a href="Pacer.Utils.FileSearch.html#SearchFileAliases"><span class="hs-identifier hs-var">SearchFileAliases</span></a></span><span>
</span><span id="line-429"></span><span>    </span><span class="annot"><span class="annottext">(FileAliases -&gt; FileSearch) -&gt; FileAliases -&gt; FileSearch
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">NonEmpty (Path Rel File) -&gt; Set OsPath -&gt; FileAliases
</span><a href="Pacer.Utils.FileSearch.html#MkFileAliases"><span class="hs-identifier hs-var">MkFileAliases</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty (Path Rel File)
</span><a href="#local-6989586621679721233"><span class="hs-identifier hs-var">aliases</span></a></span><span> </span><span class="annot"><span class="annottext">Set OsPath
</span><a href="#local-6989586621679721234"><span class="hs-identifier hs-var">exts</span></a></span><span>
</span><span id="line-430"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-431"></span><span>    </span><span id="local-6989586621679721233"><span class="annot"><span class="annottext">aliases :: NonEmpty (Path Rel File)
</span><a href="#local-6989586621679721233"><span class="hs-identifier hs-var hs-var">aliases</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-432"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Item (NonEmpty (Path Rel File))
</span><span class="">[relfile|chart-requests|]</span></span><span class="hs-special">,</span><span>
</span><span id="line-433"></span><span>        </span><span class="annot"><span class="annottext">Item (NonEmpty (Path Rel File))
</span><span class="">[relfile|chart_requests|]</span></span><span>
</span><span id="line-434"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-435"></span><span>    </span><span id="local-6989586621679721234"><span class="annot"><span class="annottext">exts :: Set OsPath
</span><a href="#local-6989586621679721234"><span class="hs-identifier hs-var hs-var">exts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-436"></span><span>      </span><span class="annot"><span class="annottext">[OsPath] -&gt; Set OsPath
forall a. Ord a =&gt; [a] -&gt; Set a
</span><span class="hs-identifier hs-var">Set.fromList</span></span><span>
</span><span id="line-437"></span><span>        </span><span class="annot"><span class="annottext">([OsPath] -&gt; Set OsPath) -&gt; [OsPath] -&gt; Set OsPath
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Item [OsPath]
</span><span class="">[osp|.json|]</span></span><span class="hs-special">,</span><span>
</span><span id="line-438"></span><span>            </span><span class="annot"><span class="annottext">Item [OsPath]
</span><span class="">[osp|.jsonc|]</span></span><span>
</span><span id="line-439"></span><span>          </span><span class="hs-special">]</span><span>
</span><span id="line-440"></span><span>
</span><span id="line-441"></span><span class="annot"><a href="Pacer.Command.Chart.Params.html#activitiesSearch"><span class="hs-identifier hs-type">activitiesSearch</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Pacer.Utils.FileSearch.html#FileSearch"><span class="hs-identifier hs-type">FileSearch</span></a></span><span>
</span><span id="line-442"></span><span id="activitiesSearch"><span class="annot"><span class="annottext">activitiesSearch :: FileSearch
</span><a href="Pacer.Command.Chart.Params.html#activitiesSearch"><span class="hs-identifier hs-var hs-var">activitiesSearch</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Path Rel File -&gt; Set OsPath -&gt; FileSearch
</span><a href="Pacer.Utils.FileSearch.html#SearchFileInfix"><span class="hs-identifier hs-var">SearchFileInfix</span></a></span><span> </span><span class="annot"><span class="">[relfile|activities|]</span></span><span> </span><span class="annot"><span class="annottext">Set OsPath
</span><a href="#local-6989586621679721286"><span class="hs-identifier hs-var">exts</span></a></span><span>
</span><span id="line-443"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-444"></span><span>    </span><span id="local-6989586621679721286"><span class="annot"><span class="annottext">exts :: Set OsPath
</span><a href="#local-6989586621679721286"><span class="hs-identifier hs-var hs-var">exts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-445"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Item (Set OsPath)
</span><span class="">[osp|.csv|]</span></span><span class="hs-special">,</span><span>
</span><span id="line-446"></span><span>        </span><span class="annot"><span class="annottext">Item (Set OsPath)
</span><span class="">[osp|.json|]</span></span><span class="hs-special">,</span><span>
</span><span id="line-447"></span><span>        </span><span class="annot"><span class="annottext">Item (Set OsPath)
</span><span class="">[osp|.jsonc|]</span></span><span>
</span><span id="line-448"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-449"></span><span>
</span><span id="line-450"></span><span class="annot"><a href="Pacer.Command.Chart.Params.html#activityLabelsSearch"><span class="hs-identifier hs-type">activityLabelsSearch</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Pacer.Utils.FileSearch.html#FileSearch"><span class="hs-identifier hs-type">FileSearch</span></a></span><span>
</span><span id="line-451"></span><span id="activityLabelsSearch"><span class="annot"><span class="annottext">activityLabelsSearch :: FileSearch
</span><a href="Pacer.Command.Chart.Params.html#activityLabelsSearch"><span class="hs-identifier hs-var hs-var">activityLabelsSearch</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FileAliases -&gt; FileSearch
</span><a href="Pacer.Utils.FileSearch.html#SearchFileAliases"><span class="hs-identifier hs-var">SearchFileAliases</span></a></span><span> </span><span class="annot"><span class="annottext">(FileAliases -&gt; FileSearch) -&gt; FileAliases -&gt; FileSearch
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">NonEmpty (Path Rel File) -&gt; Set OsPath -&gt; FileAliases
</span><a href="Pacer.Utils.FileSearch.html#MkFileAliases"><span class="hs-identifier hs-var">MkFileAliases</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty (Path Rel File)
</span><a href="#local-6989586621679721308"><span class="hs-identifier hs-var">aliases</span></a></span><span> </span><span class="annot"><span class="annottext">Set OsPath
</span><a href="#local-6989586621679721309"><span class="hs-identifier hs-var">exts</span></a></span><span>
</span><span id="line-452"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-453"></span><span>    </span><span id="local-6989586621679721308"><span class="annot"><span class="annottext">aliases :: NonEmpty (Path Rel File)
</span><a href="#local-6989586621679721308"><span class="hs-identifier hs-var hs-var">aliases</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-454"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Item (NonEmpty (Path Rel File))
</span><span class="">[relfile|activity-labels|]</span></span><span class="hs-special">,</span><span>
</span><span id="line-455"></span><span>        </span><span class="annot"><span class="annottext">Item (NonEmpty (Path Rel File))
</span><span class="">[relfile|activity_labels|]</span></span><span>
</span><span id="line-456"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-457"></span><span>    </span><span id="local-6989586621679721309"><span class="annot"><span class="annottext">exts :: Set OsPath
</span><a href="#local-6989586621679721309"><span class="hs-identifier hs-var hs-var">exts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-458"></span><span>      </span><span class="annot"><span class="annottext">[OsPath] -&gt; Set OsPath
forall a. Ord a =&gt; [a] -&gt; Set a
</span><span class="hs-identifier hs-var">Set.fromList</span></span><span>
</span><span id="line-459"></span><span>        </span><span class="annot"><span class="annottext">([OsPath] -&gt; Set OsPath) -&gt; [OsPath] -&gt; Set OsPath
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Item [OsPath]
</span><span class="">[osp|.json|]</span></span><span class="hs-special">,</span><span>
</span><span id="line-460"></span><span>            </span><span class="annot"><span class="annottext">Item [OsPath]
</span><span class="">[osp|.jsonc|]</span></span><span>
</span><span id="line-461"></span><span>          </span><span class="hs-special">]</span><span>
</span><span id="line-462"></span><span>
</span><span id="line-463"></span><span class="hs-comment">-- Handles an unknown (wrt. absolute/relative) path, resolving any</span><span>
</span><span id="line-464"></span><span class="hs-comment">-- relative paths. Polymorphic over file/dir path.</span><span>
</span><span id="line-465"></span><span class="annot"><a href="Pacer.Command.Chart.Params.html#handleUnknownPath"><span class="hs-identifier hs-type">handleUnknownPath</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-466"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679720426"><span class="annot"><a href="#local-6989586621679720426"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span id="local-6989586621679720428"><span class="annot"><a href="#local-6989586621679720428"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span id="local-6989586621679720427"><span class="annot"><a href="#local-6989586621679720427"><span class="hs-identifier hs-type">es</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-467"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exception</span></span><span> </span><span class="annot"><a href="#local-6989586621679720426"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-468"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">HasCallStack</span></span><span>
</span><span id="line-469"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-470"></span><span>  </span><span class="hs-comment">-- | Lifts to an exception. If Nothing, we do not test for existence e.g.</span><span>
</span><span id="line-471"></span><span>  </span><span class="hs-comment">-- the build dir does not have to already exist. For other parts, though,</span><span>
</span><span id="line-472"></span><span>  </span><span class="hs-comment">-- the paths must exist, hence we throw the exception.</span><span>
</span><span id="line-473"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Tuple2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">OsPath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679720426"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">OsPath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/1hak7cv0zdhl1xga54zmrx8mlz5ilw6q-effectful-core-2.5.1.0-doc/share/doc/effectful-core-2.5.1.0/html/src/Effectful.Internal.Monad.html/Effectful.Internal.Monad.html#Eff"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720427"><span class="hs-identifier hs-type">es</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-474"></span><span>  </span><span class="hs-comment">-- Containing dir for relative paths.</span><span>
</span><span id="line-475"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Path</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Abs</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Dir</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-476"></span><span>  </span><span class="hs-comment">-- Absolute parser.</span><span>
</span><span id="line-477"></span><span>  </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">HasCallStack</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OsPath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/1hak7cv0zdhl1xga54zmrx8mlz5ilw6q-effectful-core-2.5.1.0-doc/share/doc/effectful-core-2.5.1.0/html/src/Effectful.Internal.Monad.html/Effectful.Internal.Monad.html#Eff"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720427"><span class="hs-identifier hs-type">es</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Path</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Abs</span></span><span> </span><span class="annot"><a href="#local-6989586621679720428"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-478"></span><span>  </span><span class="hs-comment">-- Relative parser.</span><span>
</span><span id="line-479"></span><span>  </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">HasCallStack</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">OsPath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/1hak7cv0zdhl1xga54zmrx8mlz5ilw6q-effectful-core-2.5.1.0-doc/share/doc/effectful-core-2.5.1.0/html/src/Effectful.Internal.Monad.html/Effectful.Internal.Monad.html#Eff"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720427"><span class="hs-identifier hs-type">es</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Path</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rel</span></span><span> </span><span class="annot"><a href="#local-6989586621679720428"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-480"></span><span>  </span><span class="hs-comment">-- Path to resolve</span><span>
</span><span id="line-481"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">OsPath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-482"></span><span>  </span><span class="annot"><a href="file:///nix/store/1hak7cv0zdhl1xga54zmrx8mlz5ilw6q-effectful-core-2.5.1.0-doc/share/doc/effectful-core-2.5.1.0/html/src/Effectful.Internal.Monad.html/Effectful.Internal.Monad.html#Eff"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720427"><span class="hs-identifier hs-type">es</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Path</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Abs</span></span><span> </span><span class="annot"><a href="#local-6989586621679720428"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-483"></span><span id="handleUnknownPath"><span class="annot"><span class="annottext">handleUnknownPath :: forall e t (es :: [Effect]).
(Exception e, HasCallStack) =&gt;
Maybe (OsPath -&gt; e, OsPath -&gt; Eff es Bool)
-&gt; Path Abs Dir
-&gt; (HasCallStack =&gt; OsPath -&gt; Eff es (Path Abs t))
-&gt; (HasCallStack =&gt; OsPath -&gt; Eff es (Path Rel t))
-&gt; OsPath
-&gt; Eff es (Path Abs t)
</span><a href="Pacer.Command.Chart.Params.html#handleUnknownPath"><span class="hs-identifier hs-var hs-var">handleUnknownPath</span></a></span></span><span> </span><span id="local-6989586621679721375"><span class="annot"><span class="annottext">Maybe (OsPath -&gt; e, OsPath -&gt; Eff es Bool)
</span><a href="#local-6989586621679721375"><span class="hs-identifier hs-var">mToEx</span></a></span></span><span> </span><span id="local-6989586621679721376"><span class="annot"><span class="annottext">Path Abs Dir
</span><a href="#local-6989586621679721376"><span class="hs-identifier hs-var">parentDir</span></a></span></span><span> </span><span id="local-6989586621679721377"><span class="annot"><span class="annottext">HasCallStack =&gt; OsPath -&gt; Eff es (Path Abs t)
</span><a href="#local-6989586621679721377"><span class="hs-identifier hs-var">absParser</span></a></span></span><span> </span><span id="local-6989586621679721378"><span class="annot"><span class="annottext">HasCallStack =&gt; OsPath -&gt; Eff es (Path Rel t)
</span><a href="#local-6989586621679721378"><span class="hs-identifier hs-var">relParser</span></a></span></span><span> </span><span id="local-6989586621679721379"><span class="annot"><span class="annottext">OsPath
</span><a href="#local-6989586621679721379"><span class="hs-identifier hs-var">otherPath</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-484"></span><span>  </span><span id="local-6989586621679721380"><span class="annot"><span class="annottext">Path Abs t
</span><a href="#local-6989586621679721380"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-485"></span><span>    </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">OsPath -&gt; Bool
</span><span class="hs-identifier hs-var">OsPath.isAbsolute</span></span><span> </span><span class="annot"><span class="annottext">OsPath
</span><a href="#local-6989586621679721379"><span class="hs-identifier hs-var">otherPath</span></a></span><span>
</span><span id="line-486"></span><span>      </span><span class="hs-comment">-- Path is absolute, just parse it.</span><span>
</span><span id="line-487"></span><span>      </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">HasCallStack =&gt; OsPath -&gt; Eff es (Path Abs t)
OsPath -&gt; Eff es (Path Abs t)
</span><a href="#local-6989586621679721377"><span class="hs-identifier hs-var">absParser</span></a></span><span> </span><span class="annot"><span class="annottext">OsPath
</span><a href="#local-6989586621679721379"><span class="hs-identifier hs-var">otherPath</span></a></span><span>
</span><span id="line-488"></span><span>      </span><span class="hs-comment">-- Path is relative, parse and combine with parentDir.</span><span>
</span><span id="line-489"></span><span>      </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-490"></span><span>        </span><span id="local-6989586621679721382"><span class="annot"><span class="annottext">Path Rel t
</span><a href="#local-6989586621679721382"><span class="hs-identifier hs-var">relFile</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HasCallStack =&gt; OsPath -&gt; Eff es (Path Rel t)
OsPath -&gt; Eff es (Path Rel t)
</span><a href="#local-6989586621679721378"><span class="hs-identifier hs-var">relParser</span></a></span><span> </span><span class="annot"><span class="annottext">OsPath
</span><a href="#local-6989586621679721379"><span class="hs-identifier hs-var">otherPath</span></a></span><span>
</span><span id="line-491"></span><span>        </span><span class="hs-identifier">pure</span><span> </span><span class="hs-operator">$</span><span> </span><span class="annot"><span class="annottext">Path Abs Dir
</span><a href="#local-6989586621679721376"><span class="hs-identifier hs-var">parentDir</span></a></span><span> </span><span class="annot"><span class="annottext">Path Abs Dir -&gt; Path Rel t -&gt; Path Abs t
forall b t. Path b Dir -&gt; Path Rel t -&gt; Path b t
</span><a href="file:///home/tommy/.local/state/cabal/store/ghc-9.10.1-0348/fs-utils-0.1-98c482801d5ef5925933b0f33e814691f8f0113763e0f5183e0d5b691f3f61e1/share/doc/html/src/FileSystem.Path.html/FileSystem.Path.html#%3C%3C%2F%3E%3E"><span class="hs-operator hs-var">&lt;&lt;/&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Path Rel t
</span><a href="#local-6989586621679721382"><span class="hs-identifier hs-var">relFile</span></a></span><span>
</span><span id="line-492"></span><span>
</span><span id="line-493"></span><span>  </span><span class="annot"><span class="annottext">Maybe (OsPath -&gt; e, OsPath -&gt; Eff es Bool)
-&gt; ((OsPath -&gt; e, OsPath -&gt; Eff es Bool) -&gt; Eff es ()) -&gt; Eff es ()
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f ()
</span><span class="hs-identifier hs-var">for_</span></span><span> </span><span class="annot"><span class="annottext">Maybe (OsPath -&gt; e, OsPath -&gt; Eff es Bool)
</span><a href="#local-6989586621679721375"><span class="hs-identifier hs-var">mToEx</span></a></span><span> </span><span class="annot"><span class="annottext">(((OsPath -&gt; e, OsPath -&gt; Eff es Bool) -&gt; Eff es ()) -&gt; Eff es ())
-&gt; ((OsPath -&gt; e, OsPath -&gt; Eff es Bool) -&gt; Eff es ()) -&gt; Eff es ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679721383"><span class="annot"><span class="annottext">OsPath -&gt; e
</span><a href="#local-6989586621679721383"><span class="hs-identifier hs-var">toEx</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679721384"><span class="annot"><span class="annottext">OsPath -&gt; Eff es Bool
</span><a href="#local-6989586621679721384"><span class="hs-identifier hs-var">existsFn</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-494"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679721385"><span class="annot"><span class="annottext">osPath :: OsPath
</span><a href="#local-6989586621679721385"><span class="hs-identifier hs-var hs-var">osPath</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Path Abs t -&gt; OsPath
forall b t. Path b t -&gt; OsPath
</span><a href="file:///home/tommy/.local/state/cabal/store/ghc-9.10.1-0348/fs-utils-0.1-98c482801d5ef5925933b0f33e814691f8f0113763e0f5183e0d5b691f3f61e1/share/doc/html/src/FileSystem.Path.html/FileSystem.Path.html#toOsPath"><span class="hs-identifier hs-var">toOsPath</span></a></span><span> </span><span class="annot"><span class="annottext">Path Abs t
</span><a href="#local-6989586621679721380"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-495"></span><span>    </span><span id="local-6989586621679721387"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679721387"><span class="hs-identifier hs-var">exists</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">OsPath -&gt; Eff es Bool
</span><a href="#local-6989586621679721384"><span class="hs-identifier hs-var">existsFn</span></a></span><span> </span><span class="annot"><span class="annottext">OsPath
</span><a href="#local-6989586621679721385"><span class="hs-identifier hs-var">osPath</span></a></span><span>
</span><span id="line-496"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; Eff es () -&gt; Eff es ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">unless</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679721387"><span class="hs-identifier hs-var">exists</span></a></span><span> </span><span class="annot"><span class="annottext">(Eff es () -&gt; Eff es ()) -&gt; Eff es () -&gt; Eff es ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">e -&gt; Eff es ()
forall e a. (HasCallStack, Exception e) =&gt; e -&gt; Eff es a
forall (m :: * -&gt; *) e a.
(MonadThrow m, HasCallStack, Exception e) =&gt;
e -&gt; m a
</span><span class="hs-identifier hs-var">throwM</span></span><span> </span><span class="annot"><span class="annottext">(e -&gt; Eff es ()) -&gt; e -&gt; Eff es ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">OsPath -&gt; e
</span><a href="#local-6989586621679721383"><span class="hs-identifier hs-var">toEx</span></a></span><span> </span><span class="annot"><span class="annottext">OsPath
</span><a href="#local-6989586621679721385"><span class="hs-identifier hs-var">osPath</span></a></span><span>
</span><span id="line-497"></span><span>
</span><span id="line-498"></span><span>  </span><span class="hs-identifier">pure</span><span> </span><span class="annot"><span class="annottext">Path Abs t
</span><a href="#local-6989586621679721380"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-499"></span><span>
</span><span id="line-500"></span><span id="local-6989586621679720373"><span id="local-6989586621679720374"><span id="local-6989586621679720375"><span class="annot"><a href="Pacer.Command.Chart.Params.html#assertExists"><span class="hs-identifier hs-type">assertExists</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">HasCallStack</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///home/tommy/.local/state/cabal/store/ghc-9.10.1-0348/fs-effectful-0.1-e36fc806e7c6a22475c146f14f54ce4000691b2d7fbb3fd2cec90d44aa064737/share/doc/html/src/Effectful.FileSystem.PathReader.Dynamic.html/Effectful.FileSystem.PathReader.Dynamic.html#PathReader"><span class="hs-identifier hs-type">PathReader</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/1hak7cv0zdhl1xga54zmrx8mlz5ilw6q-effectful-core-2.5.1.0-doc/share/doc/effectful-core-2.5.1.0/html/src/Effectful.Internal.Effect.html/Effectful.Internal.Effect.html#%3A%3E"><span class="hs-operator hs-type">:&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720373"><span class="hs-identifier hs-type">es</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Path</span></span><span> </span><span class="annot"><a href="#local-6989586621679720374"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720375"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/1hak7cv0zdhl1xga54zmrx8mlz5ilw6q-effectful-core-2.5.1.0-doc/share/doc/effectful-core-2.5.1.0/html/src/Effectful.Internal.Monad.html/Effectful.Internal.Monad.html#Eff"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720373"><span class="hs-identifier hs-type">es</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-501"></span><span id="assertExists"><span class="annot"><span class="annottext">assertExists :: forall (es :: [Effect]) b t.
(HasCallStack, PathReader :&gt; es) =&gt;
Path b t -&gt; Eff es ()
</span><a href="Pacer.Command.Chart.Params.html#assertExists"><span class="hs-identifier hs-var hs-var">assertExists</span></a></span></span><span> </span><span id="local-6989586621679721401"><span class="annot"><span class="annottext">Path b t
</span><a href="#local-6989586621679721401"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-502"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679721402"><span class="annot"><span class="annottext">p' :: OsPath
</span><a href="#local-6989586621679721402"><span class="hs-identifier hs-var hs-var">p'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Path b t -&gt; OsPath
forall b t. Path b t -&gt; OsPath
</span><a href="file:///home/tommy/.local/state/cabal/store/ghc-9.10.1-0348/fs-utils-0.1-98c482801d5ef5925933b0f33e814691f8f0113763e0f5183e0d5b691f3f61e1/share/doc/html/src/FileSystem.Path.html/FileSystem.Path.html#toOsPath"><span class="hs-identifier hs-var">toOsPath</span></a></span><span> </span><span class="annot"><span class="annottext">Path b t
</span><a href="#local-6989586621679721401"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-503"></span><span>  </span><span id="local-6989586621679721403"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679721403"><span class="hs-identifier hs-var">exists</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">OsPath -&gt; Eff es Bool
forall (es :: [Effect]).
(HasCallStack, PathReader :&gt; es) =&gt;
OsPath -&gt; Eff es Bool
</span><a href="file:///home/tommy/.local/state/cabal/store/ghc-9.10.1-0348/fs-effectful-0.1-e36fc806e7c6a22475c146f14f54ce4000691b2d7fbb3fd2cec90d44aa064737/share/doc/html/src/Effectful.FileSystem.PathReader.Dynamic.html/Effectful.FileSystem.PathReader.Dynamic.html#doesFileExist"><span class="hs-identifier hs-var">PR.doesFileExist</span></a></span><span> </span><span class="annot"><span class="annottext">OsPath
</span><a href="#local-6989586621679721402"><span class="hs-identifier hs-var">p'</span></a></span><span>
</span><span id="line-504"></span><span>  </span><span class="annot"><span class="annottext">Bool -&gt; Eff es () -&gt; Eff es ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">unless</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679721403"><span class="hs-identifier hs-var">exists</span></a></span><span> </span><span class="annot"><span class="annottext">(Eff es () -&gt; Eff es ()) -&gt; Eff es () -&gt; Eff es ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FileNotFoundE -&gt; Eff es ()
forall e a. (HasCallStack, Exception e) =&gt; e -&gt; Eff es a
forall (m :: * -&gt; *) e a.
(MonadThrow m, HasCallStack, Exception e) =&gt;
e -&gt; m a
</span><span class="hs-identifier hs-var">throwM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OsPath -&gt; FileNotFoundE
</span><a href="Pacer.Utils.FileSearch.html#MkFileNotFoundE"><span class="hs-identifier hs-var">MkFileNotFoundE</span></a></span><span> </span><span class="annot"><span class="annottext">OsPath
</span><a href="#local-6989586621679721402"><span class="hs-identifier hs-var">p'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-505"></span><span>
</span><span id="line-506"></span><span id="local-6989586621679720460"><span id="local-6989586621679720461"><span id="local-6989586621679720462"><span class="annot"><a href="Pacer.Command.Chart.Params.html#throwIfMissing"><span class="hs-identifier hs-type">throwIfMissing</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-507"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Pacer.Class.FromAlt.html#FromAlt"><span class="hs-identifier hs-type">FromAlt</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720460"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-508"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">HasCallStack</span></span><span class="hs-special">,</span><span>
</span><span id="line-509"></span><span>    </span><span class="annot"><a href="file:///home/tommy/.local/state/cabal/store/ghc-9.10.1-0348/fs-effectful-0.1-e36fc806e7c6a22475c146f14f54ce4000691b2d7fbb3fd2cec90d44aa064737/share/doc/html/src/Effectful.FileSystem.PathReader.Dynamic.html/Effectful.FileSystem.PathReader.Dynamic.html#PathReader"><span class="hs-identifier hs-type">PathReader</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/1hak7cv0zdhl1xga54zmrx8mlz5ilw6q-effectful-core-2.5.1.0-doc/share/doc/effectful-core-2.5.1.0/html/src/Effectful.Internal.Effect.html/Effectful.Internal.Effect.html#%3A%3E"><span class="hs-operator hs-type">:&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720461"><span class="hs-identifier hs-type">es</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-510"></span><span>    </span><span class="annot"><a href="file:///nix/store/1hak7cv0zdhl1xga54zmrx8mlz5ilw6q-effectful-core-2.5.1.0-doc/share/doc/effectful-core-2.5.1.0/html/src/Effectful.State.Static.Local.html/Effectful.State.Static.Local.html#State"><span class="hs-identifier hs-type">State</span></a></span><span> </span><span class="annot"><a href="Pacer.Configuration.Env.Types.html#CachedPaths"><span class="hs-identifier hs-type">CachedPaths</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/1hak7cv0zdhl1xga54zmrx8mlz5ilw6q-effectful-core-2.5.1.0-doc/share/doc/effectful-core-2.5.1.0/html/src/Effectful.Internal.Effect.html/Effectful.Internal.Effect.html#%3A%3E"><span class="hs-operator hs-type">:&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720461"><span class="hs-identifier hs-type">es</span></a></span><span>
</span><span id="line-511"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-512"></span><span>  </span><span class="annot"><a href="Pacer.Command.Chart.Params.html#ChartParamsArgs"><span class="hs-identifier hs-type">ChartParamsArgs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-513"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Pacer.Configuration.Config.html#ConfigWithPath"><span class="hs-identifier hs-type">ConfigWithPath</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-514"></span><span>  </span><span class="annot"><a href="Pacer.Utils.FileSearch.html#FileSearch"><span class="hs-identifier hs-type">FileSearch</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-515"></span><span>  </span><span class="annot"><a href="#local-6989586621679720460"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720462"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-516"></span><span>  </span><span class="annot"><a href="file:///nix/store/1hak7cv0zdhl1xga54zmrx8mlz5ilw6q-effectful-core-2.5.1.0-doc/share/doc/effectful-core-2.5.1.0/html/src/Effectful.Internal.Monad.html/Effectful.Internal.Monad.html#Eff"><span class="hs-identifier hs-type">Eff</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720461"><span class="hs-identifier hs-type">es</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Pacer.Class.FromAlt.html#Alt1"><span class="hs-identifier hs-type">Alt1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720460"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679720462"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-517"></span><span id="throwIfMissing"><span class="annot"><span class="annottext">throwIfMissing :: forall (f :: * -&gt; *) (es :: [Effect]) a.
(FromAlt f, HasCallStack, PathReader :&gt; es,
 State CachedPaths :&gt; es) =&gt;
ChartParamsArgs
-&gt; Maybe ConfigWithPath -&gt; FileSearch -&gt; f a -&gt; Eff es (Alt1 f a)
</span><a href="Pacer.Command.Chart.Params.html#throwIfMissing"><span class="hs-identifier hs-var hs-var">throwIfMissing</span></a></span></span><span> </span><span id="local-6989586621679721433"><span class="annot"><span class="annottext">ChartParamsArgs
</span><a href="#local-6989586621679721433"><span class="hs-identifier hs-var">params</span></a></span></span><span> </span><span id="local-6989586621679721434"><span class="annot"><span class="annottext">Maybe ConfigWithPath
</span><a href="#local-6989586621679721434"><span class="hs-identifier hs-var">mConfigWithPath</span></a></span></span><span> </span><span id="local-6989586621679721435"><span class="annot"><span class="annottext">FileSearch
</span><a href="#local-6989586621679721435"><span class="hs-identifier hs-var">fileNames</span></a></span></span><span> </span><span id="local-6989586621679721436"><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679721436"><span class="hs-identifier hs-var">mVal</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">f a -&gt; Maybe (Alt1 f a)
forall a. f a -&gt; Maybe (Alt1 f a)
forall (f :: * -&gt; *) a. FromAlt f =&gt; f a -&gt; Maybe (Alt1 f a)
</span><a href="Pacer.Class.FromAlt.html#toAlt1"><span class="hs-identifier hs-var">toAlt1</span></a></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679721436"><span class="hs-identifier hs-var">mVal</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-518"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679721437"><span class="annot"><span class="annottext">Alt1 f a
</span><a href="#local-6989586621679721437"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Alt1 f a -&gt; Eff es (Alt1 f a)
forall a. a -&gt; Eff es a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Alt1 f a
</span><a href="#local-6989586621679721437"><span class="hs-identifier hs-var">ps</span></a></span><span>
</span><span id="line-519"></span><span>  </span><span class="annot"><span class="annottext">Maybe (Alt1 f a)
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-520"></span><span>    </span><span id="local-6989586621679721438"><span class="annot"><span class="annottext">Path Abs Dir
</span><a href="#local-6989586621679721438"><span class="hs-identifier hs-var">xdgDir</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Eff es (Path Abs Dir)
forall (es :: [Effect]).
(HasCallStack, PathReader :&gt; es, State CachedPaths :&gt; es) =&gt;
Eff es (Path Abs Dir)
</span><a href="Pacer.Configuration.Env.Types.html#getCachedXdgConfigPath"><span class="hs-identifier hs-var">getCachedXdgConfigPath</span></a></span><span>
</span><span id="line-521"></span><span>    </span><span id="local-6989586621679721439"><span class="annot"><span class="annottext">Path Abs Dir
</span><a href="#local-6989586621679721439"><span class="hs-identifier hs-var">currentDir</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Eff es (Path Abs Dir)
forall (es :: [Effect]).
(HasCallStack, PathReader :&gt; es, State CachedPaths :&gt; es) =&gt;
Eff es (Path Abs Dir)
</span><a href="Pacer.Configuration.Env.Types.html#getCachedCurrentDirectory"><span class="hs-identifier hs-var">Types.getCachedCurrentDirectory</span></a></span><span>
</span><span id="line-522"></span><span>    </span><span class="annot"><span class="annottext">ChartFileMissingE -&gt; Eff es (Alt1 f a)
forall e a. (HasCallStack, Exception e) =&gt; e -&gt; Eff es a
forall (m :: * -&gt; *) e a.
(MonadThrow m, HasCallStack, Exception e) =&gt;
e -&gt; m a
</span><span class="hs-identifier hs-var">throwM</span></span><span>
</span><span id="line-523"></span><span>      </span><span class="annot"><span class="annottext">(ChartFileMissingE -&gt; Eff es (Alt1 f a))
-&gt; ChartFileMissingE -&gt; Eff es (Alt1 f a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><a href="Pacer.Exception.html#MkChartFileMissingE"><span class="hs-identifier hs-type">MkChartFileMissingE</span></a></span><span>
</span><span id="line-524"></span><span>        </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">cliDataDir :: Maybe OsPath
</span><a href="Pacer.Exception.html#cliDataDir"><span class="hs-identifier hs-var">cliDataDir</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ChartParamsArgs
</span><a href="#local-6989586621679721433"><span class="hs-identifier hs-var">params</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">dataDir</span><span class="hs-special">,</span><span>
</span><span id="line-525"></span><span>          </span><span class="annot"><span class="annottext">expectedFiles :: [Path Rel File]
</span><a href="Pacer.Exception.html#expectedFiles"><span class="hs-identifier hs-var">expectedFiles</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Path Rel File]
</span><a href="#local-6989586621679721440"><span class="hs-identifier hs-var">fileNames'</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-526"></span><span>          </span><span class="annot"><span class="annottext">expectedExts :: Set OsPath
</span><a href="Pacer.Exception.html#expectedExts"><span class="hs-identifier hs-var">expectedExts</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set OsPath
</span><a href="#local-6989586621679721441"><span class="hs-identifier hs-var">exts</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-527"></span><span>          </span><span class="annot"><span class="annottext">configDataDir :: Maybe OsPath
</span><a href="Pacer.Exception.html#configDataDir"><span class="hs-identifier hs-var">configDataDir</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-528"></span><span>            </span><span class="annot"><span class="annottext">Maybe ConfigWithPath
</span><a href="#local-6989586621679721434"><span class="hs-identifier hs-var">mConfigWithPath</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ConfigWithPath
-&gt; (ConfigWithPath -&gt; Maybe OsPath) -&gt; Maybe OsPath
forall a b. Maybe a -&gt; (a -&gt; Maybe b) -&gt; Maybe b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679721442"><span class="annot"><span class="annottext">ConfigWithPath
</span><a href="#local-6989586621679721442"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ConfigWithPath
</span><a href="#local-6989586621679721442"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-operator">.</span><span class="hs-identifier">config</span><span class="hs-operator">.</span><span class="hs-identifier">chartConfig</span><span> </span><span class="annot"><span class="annottext">Maybe ChartConfig -&gt; (ChartConfig -&gt; Maybe OsPath) -&gt; Maybe OsPath
forall a b. Maybe a -&gt; (a -&gt; Maybe b) -&gt; Maybe b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="hs-special">(</span><span class="hs-operator">.</span><span class="hs-identifier">dataDir</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-529"></span><span>          </span><span class="annot"><span class="annottext">Path Abs Dir
currentDir :: Path Abs Dir
currentDir :: Path Abs Dir
</span><a href="Pacer.Exception.html#currentDir"><span class="hs-identifier hs-var hs-var">currentDir</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-530"></span><span>          </span><span class="annot"><span class="annottext">Path Abs Dir
xdgDir :: Path Abs Dir
xdgDir :: Path Abs Dir
</span><a href="Pacer.Exception.html#xdgDir"><span class="hs-identifier hs-var hs-var">xdgDir</span></a></span><span>
</span><span id="line-531"></span><span>        </span><span class="hs-special">}</span><span>
</span><span id="line-532"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-533"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679721440"><span class="annot"><span class="annottext">[Path Rel File]
</span><a href="#local-6989586621679721440"><span class="hs-identifier hs-var">fileNames'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679721441"><span class="annot"><span class="annottext">Set OsPath
</span><a href="#local-6989586621679721441"><span class="hs-identifier hs-var">exts</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FileSearch -&gt; ([Path Rel File], Set OsPath)
</span><a href="Pacer.Utils.FileSearch.html#searchFilesToList"><span class="hs-identifier hs-var">Utils.FileSearch.searchFilesToList</span></a></span><span> </span><span class="annot"><span class="annottext">FileSearch
</span><a href="#local-6989586621679721435"><span class="hs-identifier hs-var">fileNames</span></a></span><span>
</span><span id="line-534"></span><span>
</span><span id="line-535"></span><span id="local-6989586621679720275"><span id="local-6989586621679720572"><span id="local-6989586621679720573"><span id="local-6989586621679720574"><span id="local-6989586621679720575"><span id="local-6989586621679720576"><span id="local-6989586621679720577"><span id="local-6989586621679720578"><span id="local-6989586621679720579"><span id="local-6989586621679720580"><span id="local-6989586621679720581"><span id="local-6989586621679720582"><span id="local-6989586621679720583"><span id="local-6989586621679720584"><span id="local-6989586621679720585"><span id="local-6989586621679720586"><span id="local-6989586621679720587"><span id="local-6989586621679720588"><span id="local-6989586621679720589"><span id="local-6989586621679720590"><span id="local-6989586621679720591"><span id="local-6989586621679720592"><span id="local-6989586621679720593"><span id="local-6989586621679720594"><span id="local-6989586621679720595"><span id="local-6989586621679721448"><span id="local-6989586621679721453"><span id="local-6989586621679721458"><span id="local-6989586621679721463"><span id="local-6989586621679721468"><span id="local-6989586621679721473"><span id="local-6989586621679721478"><span id="local-6989586621679721483"><span class="hs-identifier">makeFieldLabelsNoPrefix</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">ChartParams</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-536"></span></pre></body></html>